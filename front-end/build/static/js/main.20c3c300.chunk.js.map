{"version":3,"sources":["components/Layout/Layout.js","components/Backdrop/Backdrop.js","components/Toolbar/Toolbar.js","components/Navigation/MobileToggle/MobileToggle.js","components/Logo/Logo.js","components/Navigation/NavigationItems/NavigationItems.js","components/Navigation/MainNavigation/MainNavigation.js","components/Navigation/MobileNavigation/MobileNavigation.js","components/Button/Button.js","components/Modal/Modal.js","components/ErrorHandler/ErrorHandler.js","components/Feed/Post/Post.js","components/Form/Input/Input.js","components/Form/Input/FilePicker.js","components/Image/Image.js","util/validators.js","util/image.js","components/Feed/FeedEdit/FeedEdit.js","components/Paginator/Paginator.js","components/Loader/Loader.js","pages/Feed/Feed.js","pages/Feed/SinglePost/SinglePost.js","pages/Auth/Auth.js","pages/Auth/Login.js","pages/Auth/Signup.js","App.js","index.js"],"names":["layout","props","React","createElement","Fragment","className","header","mobileNav","children","backdrop","ReactDOM","createPortal","open","join","onClick","document","getElementById","toolbar","mobileToggle","onOpen","logo","navItems","id","text","link","auth","navigationItems","concat","_toConsumableArray","filter","item","isAuth","map","key","mobile","NavLink","to","exact","onChoose","onLogout","mainNavigation","MobileToggle","onOpenMobileNav","Logo","NavigationItems","mobileNavigation","onChooseItem","button","Link","design","mode","disabled","loading","type","modal","title","Button","onCancelModal","onAcceptModal","acceptEnabled","isLoading","errorHandler","error","Backdrop","onHandle","Modal","message","post","author","date","onStartEdit","onDelete","input","label","htmlFor","control","valid","touched","required","value","placeholder","onChange","e","target","files","onBlur","rows","filePicker","image","style","backgroundImage","imageUrl","backgroundSize","contain","backgroundPosition","left","trim","length","config","isValid","min","max","email","test","generateBase64FromImage","imageFile","reader","FileReader","promise","Promise","resolve","reject","onload","result","onerror","err","readAsDataURL","POST_FORM","validators","content","FeedEdit","_Component","_getPrototypeOf2","_this","_classCallCheck","this","_len","arguments","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","state","postForm","formIsValid","imagePreview","postInputChangeHandler","then","b64","setState","catch","prevState","_step","_iterator","_createForOfIteratorHelper","s","n","done","validator","f","updatedForm","_objectSpread","_defineProperty","inputName","inputBlurHandler","cancelPostChangeHandler","onCancelEdit","acceptPostChangeHandler","onFinishEdit","_inherits","_createClass","prevProps","editing","selectedPost","imagePath","Input","bind","FilePicker","Image","Component","paginator","currentPage","onPrevious","lastPage","onNext","loader","Feed","isEditing","posts","totalPosts","editPost","status","postPage","postsLoading","editLoading","addPost","updatedPosts","pop","unshift","updatePost","updatedPostIndex","findIndex","p","_id","loadPosts","direction","page","fetch","process","REACT_APP_BACKEND_URL","headers","Authorization","token","res","Error","json","resData","totalItems","catchError","statusUpdateHandler","event","preventDefault","method","Content-Type","body","JSON","stringify","console","log","newPostHandler","startEditPostHandler","postId","find","cancelEditHandler","finishEditHandler","postData","formData","FormData","append","url","statusInputChangeHandler","deletePostHandler","_this2","socket","openSocket","on","data","action","disconnect","_this3","ErrorHandler","onSubmit","textAlign","marginTop","Loader","Paginator","Math","ceil","creator","Post","name","Date","createdAt","toLocaleDateString","SinglePost","match","params","Login","loginForm","password","inputChangeHandler","Auth","onLogin","Signup","signupForm","onSignup","App","showBackdrop","showMobileNav","userId","authLoading","mobileNavHandler","isOpen","backdropClickHandler","logoutHandler","localStorage","removeItem","loginHandler","authData","setItem","expiryDate","getTime","toISOString","setAutoLogout","signupHandler","history","replace","milliseconds","setTimeout","getItem","remainingMilliseconds","routes","Switch","Route","path","render","LoginPage","Object","assign","SignupPage","Redirect","FeedPage","SinglePostPage","Layout","Toolbar","MainNavigation","MobileNavigation","withRouter","BrowserRouter"],"mappings":"qrBAYeA,SARA,SAAAC,GAAK,OAClBC,IAAAC,cAACC,WAAQ,KACPF,IAAAC,cAAA,UAAQE,UAAU,eAAeJ,EAAMK,QACtCL,EAAMM,UACPL,IAAAC,cAAA,QAAME,UAAU,WAAWJ,EAAMO,aCMtBC,SATE,SAAAR,GAAK,OACpBS,IAASC,aACPT,IAAAC,cAAA,OACEE,UAAW,CAAC,WAAYJ,EAAMW,KAAO,OAAS,IAAIC,KAAK,KACvDC,QAASb,EAAMa,UAEjBC,SAASC,eAAe,oBCDbC,SANC,SAAAhB,GAAK,OACjBC,IAAAC,cAAA,OAAKE,UAAU,WACXJ,EAAMO,oBCMCU,SARM,SAAAjB,GAAK,OACxBC,IAAAC,cAAA,UAAQE,UAAU,gBAAgBS,QAASb,EAAMkB,QAC/CjB,IAAAC,cAAA,QAAME,UAAU,uBAChBH,IAAAC,cAAA,QAAME,UAAU,uBAChBH,IAAAC,cAAA,QAAME,UAAU,0BCFLe,SAFF,SAAAnB,GAAK,OAAIC,IAAAC,cAAA,MAAIE,UAAU,QAAO,yBCCrCgB,SAAW,CACf,CAAEC,GAAI,OAAQC,KAAM,OAAQC,KAAM,IAAKC,MAAM,GAC7C,CAAEH,GAAI,QAASC,KAAM,QAASC,KAAM,IAAKC,MAAM,GAC/C,CAAEH,GAAI,SAAUC,KAAM,SAAUC,KAAM,UAAWC,MAAM,KAqB1CC,EAlBS,SAAAzB,GAAK,SAAA0B,OAAAC,YACxBP,EAASQ,OAAO,SAAAC,GAAI,OAAIA,EAAKL,OAASxB,EAAM8B,SAAQC,IAAI,SAAAF,GAAI,OAC7D5B,IAAAC,cAAA,MACE8B,IAAKH,EAAKR,GACVjB,UAAW,CAAC,kBAAmBJ,EAAMiC,OAAS,SAAW,IAAIrB,KAAK,MAElEX,IAAAC,cAACgC,IAAO,CAACC,GAAIN,EAAKN,KAAMa,OAAK,EAACvB,QAASb,EAAMqC,UAC1CR,EAAKP,UAGV,CACFtB,EAAM8B,QACJ7B,IAAAC,cAAA,MAAIE,UAAU,kBAAkB4B,IAAI,UAClC/B,IAAAC,cAAA,UAAQW,QAASb,EAAMsC,UAAU,cCAxBC,SAfQ,SAAAvC,GAAK,OAC1BC,IAAAC,cAAA,OAAKE,UAAU,YACbH,IAAAC,cAACsC,EAAY,CAACtB,OAAQlB,EAAMyC,kBAC5BxC,IAAAC,cAAA,OAAKE,UAAU,kBACbH,IAAAC,cAACgC,IAAO,CAACC,GAAG,KACVlC,IAAAC,cAACwC,EAAI,QAGTzC,IAAAC,cAAA,OAAKE,UAAU,WACfH,IAAAC,cAAA,MAAIE,UAAU,mBACZH,IAAAC,cAACyC,EAAe,CAACb,OAAQ9B,EAAM8B,OAAQQ,SAAUtC,EAAMsC,eCC9CM,SAfU,SAAA5C,GAAK,OAC5BC,IAAAC,cAAA,OAAKE,UAAW,CAAC,aAAcJ,EAAMW,KAAO,OAAS,IAAIC,KAAK,MAC5DX,IAAAC,cAAA,MACEE,UAAW,CAAC,oBAAqBJ,EAAMiC,OAAS,SAAW,IAAIrB,KAAK,MAEpEX,IAAAC,cAACyC,EAAe,CACdV,QAAM,EACNI,SAAUrC,EAAM6C,aAChBf,OAAQ9B,EAAM8B,OACdQ,SAAUtC,EAAMsC,uBCkBTQ,SA3BA,SAAA9C,GAAK,OACjBA,EAAMuB,KAcLtB,IAAAC,cAAC6C,IAAI,CACH3C,UAAW,CACT,SAAQ,WAAAsB,OACG1B,EAAMgD,QAAM,WAAAtB,OACZ1B,EAAMiD,OACjBrC,KAAK,KACPuB,GAAInC,EAAMuB,MAETvB,EAAMO,UArBTN,IAAAC,cAAA,UACEE,UAAW,CACT,SAAQ,WAAAsB,OACG1B,EAAMgD,QAAM,WAAAtB,OACZ1B,EAAMiD,OACjBrC,KAAK,KACPC,QAASb,EAAMa,QACfqC,SAAUlD,EAAMkD,UAAYlD,EAAMmD,QAClCC,KAAMpD,EAAMoD,MAEXpD,EAAMmD,QAAU,aAAenD,EAAMO,YCa7B8C,SAxBD,SAAArD,GAAK,OACjBS,IAASC,aACPT,IAAAC,cAAA,OAAKE,UAAU,SACbH,IAAAC,cAAA,UAAQE,UAAU,iBAChBH,IAAAC,cAAA,UAAKF,EAAMsD,QAEbrD,IAAAC,cAAA,OAAKE,UAAU,kBAAkBJ,EAAMO,UACvCN,IAAAC,cAAA,OAAKE,UAAU,kBACbH,IAAAC,cAACqD,EAAM,CAACP,OAAO,SAASC,KAAK,OAAOpC,QAASb,EAAMwD,eAAe,UAGlEvD,IAAAC,cAACqD,EAAM,CACLN,KAAK,SACLpC,QAASb,EAAMyD,cACfP,UAAWlD,EAAM0D,cACjBP,QAASnD,EAAM2D,WAChB,YAKL7C,SAASC,eAAe,iBCNb6C,EAhBM,SAAA5D,GAAK,OACxBC,IAAAC,cAACC,WAAQ,KACNH,EAAM6D,OAAS5D,IAAAC,cAAC4D,EAAQ,CAACjD,QAASb,EAAM+D,WACxC/D,EAAM6D,OACL5D,IAAAC,cAAC8D,EAAK,CACJV,MAAM,oBACNE,cAAexD,EAAM+D,SACrBN,cAAezD,EAAM+D,SACrBL,eAAa,GAEbzD,IAAAC,cAAA,SAAIF,EAAM6D,MAAMI,2BCgBTC,SA1BF,SAAAlE,GAAK,OAChBC,IAAAC,cAAA,WAASE,UAAU,QACjBH,IAAAC,cAAA,UAAQE,UAAU,gBAChBH,IAAAC,cAAA,MAAIE,UAAU,cAAa,aACdJ,EAAMmE,OAAO,OAAKnE,EAAMoE,MAErCnE,IAAAC,cAAA,MAAIE,UAAU,eAAeJ,EAAMsD,QAMrCrD,IAAAC,cAAA,OAAKE,UAAU,iBACbH,IAAAC,cAACqD,EAAM,CAACN,KAAK,OAAO1B,KAAMvB,EAAMqB,IAAI,QAGpCpB,IAAAC,cAACqD,EAAM,CAACN,KAAK,OAAOpC,QAASb,EAAMqE,aAAa,QAGhDpE,IAAAC,cAACqD,EAAM,CAACN,KAAK,OAAOD,OAAO,SAASnC,QAASb,EAAMsE,UAAU,sBCepDC,SAnCD,SAAAvE,GAAK,OACjBC,IAAAC,cAAA,OAAKE,UAAU,SACZJ,EAAMwE,OAASvE,IAAAC,cAAA,SAAOuE,QAASzE,EAAMqB,IAAKrB,EAAMwE,OAC9B,UAAlBxE,EAAM0E,SACLzE,IAAAC,cAAA,SACEE,UAAW,CACRJ,EAAM2E,MAAoB,QAAZ,UACf3E,EAAM4E,QAAU,UAAY,aAC5BhE,KAAK,KACPwC,KAAMpD,EAAMoD,KACZ/B,GAAIrB,EAAMqB,GACVwD,SAAU7E,EAAM6E,SAChBC,MAAO9E,EAAM8E,MACbC,YAAa/E,EAAM+E,YACnBC,SAAU,SAAAC,GAAC,OAAIjF,EAAMgF,SAAShF,EAAMqB,GAAI4D,EAAEC,OAAOJ,MAAOG,EAAEC,OAAOC,QACjEC,OAAQpF,EAAMoF,SAGC,aAAlBpF,EAAM0E,SACLzE,IAAAC,cAAA,YACEE,UAAW,CACRJ,EAAM2E,MAAoB,QAAZ,UACf3E,EAAM4E,QAAU,UAAY,aAC5BhE,KAAK,KACPS,GAAIrB,EAAMqB,GACVgE,KAAMrF,EAAMqF,KACZR,SAAU7E,EAAM6E,SAChBC,MAAO9E,EAAM8E,MACbE,SAAU,SAAAC,GAAC,OAAIjF,EAAMgF,SAAShF,EAAMqB,GAAI4D,EAAEC,OAAOJ,QACjDM,OAAQpF,EAAMoF,YCbPE,EAhBI,SAAAtF,GAAK,OACtBC,IAAAC,cAAA,OAAKE,UAAU,SACbH,IAAAC,cAAA,SAAOuE,QAASzE,EAAMqB,IAAKrB,EAAMwE,OACjCvE,IAAAC,cAAA,SACEE,UAAW,CACRJ,EAAM2E,MAAoB,QAAZ,UACf3E,EAAM4E,QAAU,UAAY,aAC5BhE,KAAK,KACPwC,KAAK,OACL/B,GAAIrB,EAAMqB,GACV2D,SAAU,SAAAC,GAAC,OAAIjF,EAAMgF,SAAShF,EAAMqB,GAAI4D,EAAEC,OAAOJ,MAAOG,EAAEC,OAAOC,QACjEC,OAAQpF,EAAMoF,WCALG,SAXD,SAAAvF,GAAK,OACjBC,IAAAC,cAAA,OACEE,UAAU,QACVoF,MAAO,CACLC,gBAAe,QAAA/D,OAAU1B,EAAM0F,SAAQ,MACvCC,eAAgB3F,EAAM4F,QAAU,UAAY,QAC5CC,mBAAoB7F,EAAM8F,KAAO,OAAS,cCVnCjB,EAAW,SAAAC,GAAK,MAAqB,KAAjBA,EAAMiB,QAE1BC,EAAS,SAAAC,GAAM,OAAI,SAAAnB,GAC9B,IAAIoB,GAAU,EAOd,OANID,EAAOE,MACTD,EAAUA,GAAWpB,EAAMiB,OAAOC,QAAUC,EAAOE,KAEjDF,EAAOG,MACTF,EAAUA,GAAWpB,EAAMiB,OAAOC,QAAUC,EAAOG,KAE9CF,IAGIG,EAAQ,SAAAvB,GAAK,MACxB,wIAAwIwB,KACtIxB,ICfSyB,EAA0B,SAAAC,GACrC,IAAMC,EAAS,IAAIC,WACbC,EAAU,IAAIC,QAAQ,SAACC,EAASC,GACpCL,EAAOM,OAAS,SAAA9B,GAAC,OAAI4B,EAAQ5B,EAAEC,OAAO8B,SACtCP,EAAOQ,QAAU,SAAAC,GAAG,OAAIJ,EAAOI,MAIjC,OADAT,EAAOU,cAAcX,GACdG,8/BCGT,IAAMS,EAAY,CAChB9D,MAAO,CACLwB,MAAO,GACPH,OAAO,EACPC,SAAS,EACTyC,WAAY,CAACxC,EAAUmB,EAAO,CAAEG,IAAK,MAEvCZ,MAAO,CACLT,MAAO,GACPH,OAAO,EACPC,SAAS,EACTyC,WAAY,CAACxC,IAEfyC,QAAS,CACPxC,MAAO,GACPH,OAAO,EACPC,SAAS,EACTyC,WAAY,CAACxC,EAAUmB,EAAO,CAAEG,IAAK,OAoK1BoB,EAhKD,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAC,YAAAC,KAAAL,GAAA,QAAAM,EAAAC,UAAA9B,OAAA+B,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAsGX,OAtGWP,EAAAQ,YAAAN,MAAAH,EAAAU,YAAAZ,IAAAa,KAAAC,MAAAZ,EAAA,CAAAG,MAAAlG,OAAAqG,MACZO,MAAQ,CACNC,SAAUnB,EACVoB,aAAa,EACbC,aAAc,MACff,EA6BDgB,uBAAyB,SAACnE,EAAOO,EAAOK,GAClCA,GACFoB,EAAwBpB,EAAM,IAC3BwD,KAAK,SAACC,GACLlB,EAAKmB,SAAS,CAAEJ,aAAcG,MAE/BE,MAAM,SAAC7D,GACNyC,EAAKmB,SAAS,CAAEJ,aAAc,SAGpCf,EAAKmB,SAAS,SAACE,GACb,IAC4DC,EADxD9C,GAAU,EAAK+C,EAAAC,EACKH,EAAUR,SAAShE,GAAO8C,YAAU,IAA5D,IAAA4B,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAA8D,KAAnDC,EAASN,EAAAlE,MAClBoB,EAAUA,GAAWoD,EAAUxE,IAChC,MAAAoC,GAAA+B,EAAAhE,EAAAiC,GAAA,QAAA+B,EAAAM,IACD,IAAMC,EAAWC,YAAA,GACZV,EAAUR,SAAQmB,YAAA,GACpBnF,EAAKkF,YAAA,GACDV,EAAUR,SAAShE,GAAM,CAC5BI,MAAOuB,EACPpB,MAAOK,EAAQA,EAAM,GAAKL,MAG1B0D,GAAc,EAClB,IAAK,IAAMmB,KAAaH,EACtBhB,EAAcA,GAAegB,EAAYG,GAAWhF,MAEtD,MAAO,CACL4D,SAAUiB,EACVhB,YAAaA,MAGlBd,EAEDkC,iBAAmB,SAACrF,GAClBmD,EAAKmB,SAAS,SAACE,GACb,MAAO,CACLR,SAAQkB,YAAA,GACHV,EAAUR,SAAQmB,YAAA,GACpBnF,EAAKkF,YAAA,GACDV,EAAUR,SAAShE,GAAM,CAC5BK,SAAS,UAKlB8C,EAEDmC,wBAA0B,WACxBnC,EAAKmB,SAAS,CACZN,SAAUnB,EACVoB,aAAa,IAEfd,EAAK1H,MAAM8J,gBACZpC,EAEDqC,wBAA0B,WACxB,IAAM7F,EAAO,CACXZ,MAAOoE,EAAKY,MAAMC,SAASjF,MAAMwB,MACjCS,MAAOmC,EAAKY,MAAMC,SAAShD,MAAMT,MACjCwC,QAASI,EAAKY,MAAMC,SAASjB,QAAQxC,OAEvC4C,EAAK1H,MAAMgK,aAAa9F,GACxBwD,EAAKmB,SAAS,CACZN,SAAUnB,EACVoB,aAAa,EACbC,aAAc,QAEjBf,EAuDA,OA7JWuC,YAAA1C,EAAAC,GAsGX0C,YAAA3C,EAAA,EAAAvF,IAAA,qBAAA8C,MAAA,SA/FkBqF,EAAWpB,GAC5B,GACEnB,KAAK5H,MAAMoK,SACXD,EAAUC,UAAYxC,KAAK5H,MAAMoK,SACjCD,EAAUE,eAAiBzC,KAAK5H,MAAMqK,aACtC,CACA,IAAM9B,EAAW,CACfjF,MAAKmG,YAAA,GACAV,EAAUR,SAASjF,MAAK,CAC3BwB,MAAO8C,KAAK5H,MAAMqK,aAAa/G,MAC/BqB,OAAO,IAETY,MAAKkE,YAAA,GACAV,EAAUR,SAAShD,MAAK,CAC3BT,MAAO8C,KAAK5H,MAAMqK,aAAaC,UAC/B3F,OAAO,IAET2C,QAAOmC,YAAA,GACFV,EAAUR,SAASjB,QAAO,CAC7BxC,MAAO8C,KAAK5H,MAAMqK,aAAa/C,QAC/B3C,OAAO,KAGXiD,KAAKiB,SAAS,CAAEN,SAAUA,EAAUC,aAAa,OAEpD,CAAAxG,IAAA,SAAA8C,MAAA,WAyEC,OAAO8C,KAAK5H,MAAMoK,QAChBnK,IAAAC,cAACC,WAAQ,KACPF,IAAAC,cAAC4D,EAAQ,CAACjD,QAAS+G,KAAKiC,0BAExB5J,IAAAC,cAAC8D,EAAK,CACJV,MAAM,WACNI,cAAekE,KAAKU,MAAME,YAC1BhF,cAAeoE,KAAKiC,wBACpBpG,cAAemE,KAAKmC,wBACpBpG,UAAWiE,KAAK5H,MAAMmD,SAEtBlD,IAAAC,cAAA,QAAME,UAAU,kBACdH,IAAAC,cAACqK,EAAK,CACJlJ,GAAG,QACHmD,MAAM,QACNE,QAAQ,QACRM,SAAU4C,KAAKc,uBACftD,OAAQwC,KAAKgC,iBAAiBY,KAAK5C,KAAM,SACzCjD,MAAOiD,KAAKU,MAAMC,SAAgB,MAAE5D,MACpCC,QAASgD,KAAKU,MAAMC,SAAgB,MAAE3D,QACtCE,MAAO8C,KAAKU,MAAMC,SAAgB,MAAEzD,QAEtC7E,IAAAC,cAACuK,EAAU,CACTpJ,GAAG,QACHmD,MAAM,QACNE,QAAQ,QACRM,SAAU4C,KAAKc,uBACftD,OAAQwC,KAAKgC,iBAAiBY,KAAK5C,KAAM,SACzCjD,MAAOiD,KAAKU,MAAMC,SAAgB,MAAE5D,MACpCC,QAASgD,KAAKU,MAAMC,SAAgB,MAAE3D,UAExC3E,IAAAC,cAAA,OAAKE,UAAU,4BACXwH,KAAKU,MAAMG,cAAgBxI,IAAAC,cAAA,SAAG,2BAC/B0H,KAAKU,MAAMG,cACVxI,IAAAC,cAACwK,EAAK,CAAChF,SAAUkC,KAAKU,MAAMG,aAAc7C,SAAO,EAACE,MAAI,KAG1D7F,IAAAC,cAACqK,EAAK,CACJlJ,GAAG,UACHmD,MAAM,UACNE,QAAQ,WACRW,KAAK,IACLL,SAAU4C,KAAKc,uBACftD,OAAQwC,KAAKgC,iBAAiBY,KAAK5C,KAAM,WACzCjD,MAAOiD,KAAKU,MAAMC,SAAkB,QAAE5D,MACtCC,QAASgD,KAAKU,MAAMC,SAAkB,QAAE3D,QACxCE,MAAO8C,KAAKU,MAAMC,SAAkB,QAAEzD,WAK5C,SACLyC,EA7JW,CAASoD,aCVRC,SAlBG,SAAA5K,GAAK,OACrBC,IAAAC,cAAA,OAAKE,UAAU,aACZJ,EAAMO,SACPN,IAAAC,cAAA,OAAKE,UAAU,uBACZJ,EAAM6K,YAAc,GACnB5K,IAAAC,cAAA,UAAQE,UAAU,qBAAqBS,QAASb,EAAM8K,YAAY,YAInE9K,EAAM6K,YAAc7K,EAAM+K,UACzB9K,IAAAC,cAAA,UAAQE,UAAU,qBAAqBS,QAASb,EAAMgL,QAAQ,YCDvDC,SATA,SAAAjL,GAAK,OAClBC,IAAAC,cAAA,OAAKE,UAAU,UACbH,IAAAC,cAAA,YACAD,IAAAC,cAAA,YACAD,IAAAC,cAAA,YACAD,IAAAC,cAAA,eCmrBWgL,SAjVL,SAAA1D,GAAA,SAAA0D,IAAA,IAAAzD,EAAAC,EAAAC,YAAAC,KAAAsD,GAAA,QAAArD,EAAAC,UAAA9B,OAAA+B,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GA4QP,OA5QOP,EAAAQ,YAAAN,MAAAH,EAAAU,YAAA+C,IAAA9C,KAAAC,MAAAZ,EAAA,CAAAG,MAAAlG,OAAAqG,MACRO,MAAQ,CACN6C,WAAW,EACXC,MAAO,GACPC,WAAY,EACZC,SAAU,KACVC,OAAQ,GACRC,SAAU,EACVC,cAAc,EACdC,aAAa,GACdhE,EA4CDiE,QAAU,SAACzH,GACTwD,EAAKmB,SAAS,SAACE,GACb,IAAM6C,EAAYjK,YAAOoH,EAAUqC,OAOnC,OAN2B,IAAvBrC,EAAUyC,WACRzC,EAAUqC,MAAMpF,QAAU,GAC5B4F,EAAaC,MAEfD,EAAaE,QAAQ5H,IAEhB,CACLkH,MAAOQ,EACPP,WAAYtC,EAAUsC,WAAa,MAGxC3D,EAEDqE,WAAa,SAAC7H,GACZwD,EAAKmB,SAAS,SAACE,GACb,IAAM6C,EAAYjK,YAAOoH,EAAUqC,OAC7BY,EAAmBJ,EAAaK,UACpC,SAACC,GAAC,OAAKA,EAAEC,MAAQjI,EAAKiI,MAKxB,OAHIH,GAAoB,IACtBJ,EAAaI,GAAoB9H,GAE5B,CACLkH,MAAOQ,MAGZlE,EAED0E,UAAY,SAACC,GACPA,GACF3E,EAAKmB,SAAS,CAAE4C,cAAc,EAAML,MAAO,KAE7C,IAAIkB,EAAO5E,EAAKY,MAAMkD,SACJ,SAAda,IACFC,IACA5E,EAAKmB,SAAS,CAAE2C,SAAUc,KAEV,aAAdD,IACFC,IACA5E,EAAKmB,SAAS,CAAE2C,SAAUc,KAE5BC,MAAK,GAAA7K,OACA8K,8CAAYC,uBACb,wBAAuB,qBAAA/K,OAAoB4K,GAC7C,CACEI,QAAS,CACPC,cAAe,UAAYjF,EAAK1H,MAAM4M,SAIzCjE,KAAK,SAACkE,GACL,GAAmB,MAAfA,EAAItB,OACN,MAAM,IAAIuB,MAAM,0BAElB,OAAOD,EAAIE,SAEZpE,KAAK,SAACqE,GACLtF,EAAKmB,SAAS,CACZuC,MAAO4B,EAAQ5B,MAAMrJ,IAAI,SAACmC,GACxB,OAAAuF,YAAA,GACKvF,EAAI,CACPwB,SAAUxB,EAAKwB,aAGnB2F,WAAY2B,EAAQC,WACpBxB,cAAc,MAGjB3C,MAAMpB,EAAKwF,aACfxF,EAEDyF,oBAAsB,SAACC,GACrBA,EAAMC,iBACNd,MAAK,GAAA7K,OACA8K,8CAAYC,uBACb,wBAAuB,gBACzB,CACEa,OAAQ,QACRZ,QAAS,CACPC,cAAe,UAAYjF,EAAK1H,MAAM4M,MACtCW,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBnC,OAAQ7D,EAAKY,MAAMiD,WAKtB5C,KAAK,SAACkE,GACL,GAAmB,MAAfA,EAAItB,QAAiC,MAAfsB,EAAItB,OAC5B,MAAM,IAAIuB,MAAM,wBAElB,OAAOD,EAAIE,SAEZpE,KAAK,SAACqE,GACLW,QAAQC,IAAIZ,KAEblE,MAAMpB,EAAKwF,aACfxF,EAEDmG,eAAiB,WACfnG,EAAKmB,SAAS,CAAEsC,WAAW,KAC5BzD,EAEDoG,qBAAuB,SAACC,GACtBrG,EAAKmB,SAAS,SAACE,GAGb,MAAO,CACLoC,WAAW,EACXG,SAJc7B,YAAA,GAAQV,EAAUqC,MAAM4C,KAAK,SAAC9B,GAAC,OAAKA,EAAEC,MAAQ4B,SAOjErG,EAEDuG,kBAAoB,WAClBvG,EAAKmB,SAAS,CAAEsC,WAAW,EAAOG,SAAU,QAC7C5D,EAEDwG,kBAAoB,SAACC,GACnBzG,EAAKmB,SAAS,CACZ6C,aAAa,IAEf,IAAM0C,EAAW,IAAIC,SACrBD,EAASE,OAAO,QAASH,EAAS7K,OAClC8K,EAASE,OAAO,UAAWH,EAAS7G,SACpC8G,EAASE,OAAO,QAASH,EAAS5I,OAClC,IAAIgJ,EAAG,GAAA7M,OAAM8K,8CAAYC,uBACvB,wBAAuB,cACrBa,EAAS,OACT5F,EAAKY,MAAMgD,WACbiD,EAAG,GAAA7M,OAAM8K,8CAAYC,uBACnB,wBAAuB,eAAA/K,OAAcgG,EAAKY,MAAMgD,SAASa,KAC3DmB,EAAS,OAGXf,MAAMgC,EAAK,CACTjB,OAAQA,EACRE,KAAMY,EACN1B,QAAS,CACPC,cAAe,UAAYjF,EAAK1H,MAAM4M,SAGvCjE,KAAK,SAACkE,GACL,GAAmB,MAAfA,EAAItB,QAAiC,MAAfsB,EAAItB,OAC5B,MAAM,IAAIuB,MAAM,sCAElB,OAAOD,EAAIE,SAEZpE,KAAK,SAACqE,GACLW,QAAQC,IAAIZ,GACZtF,EAAKmB,SAAS,SAACE,GACb,MAAO,CACLoC,WAAW,EACXG,SAAU,KACVI,aAAa,OAIlB5C,MAAM,SAAC5B,GACNyG,QAAQC,IAAI1G,GACZQ,EAAKmB,SAAS,CACZsC,WAAW,EACXG,SAAU,KACVI,aAAa,EACb7H,MAAOqD,OAGdQ,EAED8G,yBAA2B,SAACjK,EAAOO,GACjC4C,EAAKmB,SAAS,CAAE0C,OAAQzG,KACzB4C,EAED+G,kBAAoB,SAACV,GACnBxB,MAAK,GAAA7K,OACA8K,8CAAYC,uBACb,wBAAuB,eAAA/K,OAAcqM,GACvC,CACET,OAAQ,SACRZ,QAAS,CACPC,cAAe,UAAYjF,EAAK1H,MAAM4M,SAIzCjE,KAAK,SAACkE,GACL,GAAmB,MAAfA,EAAItB,QAAiC,MAAfsB,EAAItB,OAC5B,MAAM,IAAIuB,MAAM,2BAElB,OAAOD,EAAIE,SAEZpE,KAAK,SAACqE,GACLW,QAAQC,IAAIZ,GACZtF,EAAK0E,cAMNtD,MAAM,SAAC5B,GACNyG,QAAQC,IAAI1G,GACZQ,EAAKmB,SAAS,CAAE4C,cAAc,OAEnC/D,EAED9D,aAAe,WACb8D,EAAKmB,SAAS,CAAEhF,MAAO,QACxB6D,EAEDwF,WAAa,SAACrJ,GACZ6D,EAAKmB,SAAS,CAAEhF,MAAOA,KACxB6D,EAkEA,OA9UOuC,YAAAiB,EAAA1D,GA4QP0C,YAAAgB,EAAA,EAAAlJ,IAAA,oBAAA8C,MAAA,WAhQmB,IAAA4J,EAAA9G,KAClB2E,MAAK,GAAA7K,OACA8K,8CAAYC,uBACb,wBAAuB,gBACzB,CACEC,QAAS,CACPC,cAAe,UAAY/E,KAAK5H,MAAM4M,SAIzCjE,KAAK,SAACkE,GAEL,GADAc,QAAQC,IAAIf,GACO,MAAfA,EAAItB,OACN,MAAM,IAAIuB,MAAM,gCAElB,OAAOD,EAAIE,SAEZpE,KAAK,SAACqE,GACL0B,EAAK7F,SAAS,CAAE0C,OAAQyB,EAAQzB,WAEjCzC,MAAMlB,KAAKsF,YACdtF,KAAKwE,YACLxE,KAAK+G,OAASC,YACZpC,8CAAYC,uBAAyB,yBAEvC7E,KAAK+G,OAAOE,GAAG,QAAS,SAACC,GACvBnB,QAAQC,IAAI,yBAA0BkB,GAClB,WAAhBA,EAAKC,OACPL,EAAK/C,QAAQmD,EAAK5K,MACO,WAAhB4K,EAAKC,OACdL,EAAK3C,WAAW+C,EAAK5K,MACI,WAAhB4K,EAAKC,QACdL,EAAKtC,gBAGV,CAAApK,IAAA,uBAAA8C,MAAA,WAEK8C,KAAK+G,QACP/G,KAAK+G,OAAOK,eAEf,CAAAhN,IAAA,SAAA8C,MAAA,WA0NQ,IAAAmK,EAAArH,KACP,OACE3H,IAAAC,cAACC,WAAQ,KACPF,IAAAC,cAACgP,EAAY,CAACrL,MAAO+D,KAAKU,MAAMzE,MAAOE,SAAU6D,KAAKhE,eACtD3D,IAAAC,cAACqH,EAAQ,CACP6C,QAASxC,KAAKU,MAAM6C,UACpBd,aAAczC,KAAKU,MAAMgD,SACzBnI,QAASyE,KAAKU,MAAMoD,YACpB5B,aAAclC,KAAKqG,kBACnBjE,aAAcpC,KAAKsG,oBAErBjO,IAAAC,cAAA,WAASE,UAAU,gBACjBH,IAAAC,cAAA,QAAMiP,SAAUvH,KAAKuF,qBACnBlN,IAAAC,cAACqK,EAAK,CACJnH,KAAK,OACL2B,YAAY,cACZL,QAAQ,QACRM,SAAU4C,KAAK4G,yBACf1J,MAAO8C,KAAKU,MAAMiD,SAEpBtL,IAAAC,cAACqD,EAAM,CAACN,KAAK,OAAOG,KAAK,UAAS,YAKtCnD,IAAAC,cAAA,WAASE,UAAU,iBACjBH,IAAAC,cAACqD,EAAM,CAACN,KAAK,SAASD,OAAO,SAASnC,QAAS+G,KAAKiG,gBAAgB,aAItE5N,IAAAC,cAAA,WAASE,UAAU,QAChBwH,KAAKU,MAAMmD,cACVxL,IAAAC,cAAA,OAAKsF,MAAO,CAAE4J,UAAW,SAAUC,UAAW,SAC5CpP,IAAAC,cAACoP,EAAM,OAGV1H,KAAKU,MAAM8C,MAAMpF,QAAU,IAAM4B,KAAKU,MAAMmD,aAC3CxL,IAAAC,cAAA,KAAGsF,MAAO,CAAE4J,UAAW,WAAY,mBACjC,MACFxH,KAAKU,MAAMmD,cACXxL,IAAAC,cAACqP,EAAS,CACRzE,WAAYlD,KAAKwE,UAAU5B,KAAK5C,KAAM,YACtCoD,OAAQpD,KAAKwE,UAAU5B,KAAK5C,KAAM,QAClCmD,SAAUyE,KAAKC,KAAK7H,KAAKU,MAAM+C,WAAa,GAC5CR,YAAajD,KAAKU,MAAMkD,UAEvB5D,KAAKU,MAAM8C,MAAMrJ,IAAI,SAACmC,EAAMwL,GAAO,OAClCzP,IAAAC,cAACyP,EAAI,CACH3N,IAAKkC,EAAKiI,IACV9K,GAAI6C,EAAKiI,IACThI,OAAQD,EAAKwL,QAAQE,KACrBxL,KAAM,IAAIyL,KAAK3L,EAAK4L,WAAWC,mBAAmB,SAClDzM,MAAOY,EAAKZ,MACZiC,MAAOrB,EAAKwB,SACZ4B,QAASpD,EAAKoD,QACdjD,YAAa4K,EAAKnB,qBAAqBtD,KAAKyE,EAAM/K,EAAKiI,KACvD7H,SAAU2K,EAAKR,kBAAkBjE,KAAKyE,EAAM/K,EAAKiI,gBAQhEjB,EA9UO,CAASP,cC5OJqF,SAzDC,SAAAxI,GAAA,SAAAwI,IAAA,IAAAvI,EAAAC,EAAAC,YAAAC,KAAAoI,GAAA,QAAAnI,EAAAC,UAAA9B,OAAA+B,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAOb,OAPaP,EAAAQ,YAAAN,MAAAH,EAAAU,YAAA6H,IAAA5H,KAAAC,MAAAZ,EAAA,CAAAG,MAAAlG,OAAAqG,MACdO,MAAQ,CACNhF,MAAO,GACPa,OAAQ,GACRC,KAAM,GACNmB,MAAO,GACP+B,QAAS,IACVI,EA+CA,OAtDauC,YAAA+F,EAAAxI,GAOb0C,YAAA8F,EAAA,EAAAhO,IAAA,oBAAA8C,MAAA,WAEmB,IAAA4J,EAAA9G,KACZmG,EAASnG,KAAK5H,MAAMiQ,MAAMC,OAAOnC,OACvCxB,MAAK,GAAA7K,OACA8K,8CAAYC,uBACb,wBAAuB,eAAA/K,OAAcqM,GACvC,CACErB,QAAS,CACPC,cAAe,UAAY/E,KAAK5H,MAAM4M,SAIzCjE,KAAK,SAACkE,GACL,GAAmB,MAAfA,EAAItB,OACN,MAAM,IAAIuB,MAAM,0BAElB,OAAOD,EAAIE,SAEZpE,KAAK,SAACqE,GACL0B,EAAK7F,SAAS,CACZvF,MAAO0J,EAAQ9I,KAAKZ,MACpBa,OAAQ6I,EAAQ9I,KAAKwL,QAAQE,KAC7BrK,MAAK,GAAA7D,OAAK8K,8CAAYC,uBACpB,wBAAuB,KAAA/K,OAAIsL,EAAQ9I,KAAKwB,UAC1CtB,KAAM,IAAIyL,KAAK7C,EAAQ9I,KAAK4L,WAAWC,mBAAmB,SAC1DzI,QAAS0F,EAAQ9I,KAAKoD,YAGzBwB,MAAM,SAAC5B,GACNyG,QAAQC,IAAI1G,OAEjB,CAAAlF,IAAA,SAAA8C,MAAA,WAGC,OACE7E,IAAAC,cAAA,WAASE,UAAU,eACjBH,IAAAC,cAAA,UAAK0H,KAAKU,MAAMhF,OAChBrD,IAAAC,cAAA,UAAI,cACU0H,KAAKU,MAAMnE,OAAO,OAAKyD,KAAKU,MAAMlE,MAEhDnE,IAAAC,cAAA,OAAKE,UAAU,sBACbH,IAAAC,cAACwK,EAAK,CAAC9E,SAAO,EAACF,SAAUkC,KAAKU,MAAM/C,SAEtCtF,IAAAC,cAAA,SAAI0H,KAAKU,MAAMhB,cAGpB0I,EAtDa,CAASrF,cChEVnJ,SAFF,SAAAxB,GAAK,OAAIC,IAAAC,cAAA,WAASE,UAAU,aAAaJ,EAAMO,igCCClC,IAsGX4P,GApGJ,SAAA3I,GAAA,SAAA2I,IAAA,IAAA1I,EAAAC,EAAAC,YAAAC,KAAAuI,GAAA,QAAAtI,EAAAC,UAAA9B,OAAA+B,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAwDR,OAxDQP,EAAAQ,YAAAN,MAAAH,EAAAU,YAAAgI,IAAA/H,KAAAC,MAAAZ,EAAA,CAAAG,MAAAlG,OAAAqG,MACTO,MAAQ,CACN8H,UAAW,CACT/J,MAAO,CACLvB,MAAO,GACPH,OAAO,EACPC,SAAS,EACTyC,WAAY,CAACxC,EAAUwB,IAEzBgK,SAAU,CACRvL,MAAO,GACPH,OAAO,EACPC,SAAS,EACTyC,WAAY,CAACxC,EAAUmB,EAAO,CAAEG,IAAK,MAEvCqC,aAAa,IAEhBd,EAED4I,mBAAqB,SAAC/L,EAAOO,GAC3B4C,EAAKmB,SAAS,SAAAE,GACZ,IAC6DC,EADzD9C,GAAU,EAAK+C,EAAAC,EACKH,EAAUqH,UAAU7L,GAAO8C,YAAU,IAA7D,IAAA4B,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAA+D,KAApDC,EAASN,EAAAlE,MAClBoB,EAAUA,GAAWoD,EAAUxE,IAChC,MAAAoC,GAAA+B,EAAAhE,EAAAiC,GAAA,QAAA+B,EAAAM,IACD,IAAMC,EAAWC,YAAA,GACZV,EAAUqH,UAAS1G,YAAA,GACrBnF,EAAKkF,YAAA,GACDV,EAAUqH,UAAU7L,GAAM,CAC7BI,MAAOuB,EACPpB,MAAOA,MAGP0D,GAAc,EAClB,IAAK,IAAMmB,KAAaH,EACtBhB,EAAcA,GAAegB,EAAYG,GAAWhF,MAEtD,MAAO,CACLyL,UAAW5G,EACXhB,YAAaA,MAGlBd,EAEDkC,iBAAmB,SAAArF,GACjBmD,EAAKmB,SAAS,SAAAE,GACZ,MAAO,CACLqH,UAAS3G,YAAA,GACJV,EAAUqH,UAAS1G,YAAA,GACrBnF,EAAKkF,YAAA,GACDV,EAAUqH,UAAU7L,GAAM,CAC7BK,SAAS,UAKlB8C,EAyCA,OAjGQuC,YAAAkG,EAAA3I,GAwDR0C,YAAAiG,EAAA,EAAAnO,IAAA,SAAA8C,MAAA,WAEQ,IAAA4J,EAAA9G,KACP,OACE3H,IAAAC,cAACqQ,EAAI,KACHtQ,IAAAC,cAAA,QACEiP,SAAU,SAAAlK,GAAC,OACTyJ,EAAK1O,MAAMwQ,QAAQvL,EAAG,CACpBoB,MAAOqI,EAAKpG,MAAM8H,UAAU/J,MAAMvB,MAClCuL,SAAU3B,EAAKpG,MAAM8H,UAAUC,SAASvL,UAI5C7E,IAAAC,cAACqK,EAAK,CACJlJ,GAAG,QACHmD,MAAM,cACNpB,KAAK,QACLsB,QAAQ,QACRM,SAAU4C,KAAK0I,mBACflL,OAAQwC,KAAKgC,iBAAiBY,KAAK5C,KAAM,SACzC9C,MAAO8C,KAAKU,MAAM8H,UAAiB,MAAEtL,MACrCH,MAAOiD,KAAKU,MAAM8H,UAAiB,MAAEzL,MACrCC,QAASgD,KAAKU,MAAM8H,UAAiB,MAAExL,UAEzC3E,IAAAC,cAACqK,EAAK,CACJlJ,GAAG,WACHmD,MAAM,WACNpB,KAAK,WACLsB,QAAQ,QACRM,SAAU4C,KAAK0I,mBACflL,OAAQwC,KAAKgC,iBAAiBY,KAAK5C,KAAM,YACzC9C,MAAO8C,KAAKU,MAAM8H,UAAoB,SAAEtL,MACxCH,MAAOiD,KAAKU,MAAM8H,UAAoB,SAAEzL,MACxCC,QAASgD,KAAKU,MAAM8H,UAAoB,SAAExL,UAE5C3E,IAAAC,cAACqD,EAAM,CAACP,OAAO,SAASI,KAAK,SAASD,QAASyE,KAAK5H,MAAMmD,SAAS,eAM1EgN,EAjGQ,CAASxF,sgCCFM,IAgHX8F,GA9GH,SAAAjJ,GAAA,SAAAiJ,IAAA,IAAAhJ,EAAAC,EAAAC,YAAAC,KAAA6I,GAAA,QAAA5I,EAAAC,UAAA9B,OAAA+B,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GA8DT,OA9DSP,EAAAQ,YAAAN,MAAAH,EAAAU,YAAAsI,IAAArI,KAAAC,MAAAZ,EAAA,CAAAG,MAAAlG,OAAAqG,MACVO,MAAQ,CACNoI,WAAY,CACVrK,MAAO,CACLvB,MAAO,GACPH,OAAO,EACPC,SAAS,EACTyC,WAAY,CAACxC,EAAUwB,IAEzBgK,SAAU,CACRvL,MAAO,GACPH,OAAO,EACPC,SAAS,EACTyC,WAAY,CAACxC,EAAUmB,EAAO,CAAEG,IAAK,MAEvCyJ,KAAM,CACJ9K,MAAO,GACPH,OAAO,EACPC,SAAS,EACTyC,WAAY,CAACxC,IAEf2D,aAAa,IAEhBd,EAED4I,mBAAqB,SAAC/L,EAAOO,GAC3B4C,EAAKmB,SAAS,SAAAE,GACZ,IAC8DC,EAD1D9C,GAAU,EAAK+C,EAAAC,GACKH,EAAU2H,WAAWnM,GAAO8C,YAAU,IAA9D,IAAA4B,EAAAE,MAAAH,EAAAC,EAAAG,KAAAC,MAAgE,KAArDC,EAASN,EAAAlE,MAClBoB,EAAUA,GAAWoD,EAAUxE,IAChC,MAAAoC,GAAA+B,EAAAhE,EAAAiC,GAAA,QAAA+B,EAAAM,IACD,IAAMC,EAAWC,YAAA,GACZV,EAAU2H,WAAUhH,YAAA,GACtBnF,EAAKkF,YAAA,GACDV,EAAU2H,WAAWnM,GAAM,CAC9BI,MAAOuB,EACPpB,MAAOA,MAGP0D,GAAc,EAClB,IAAK,IAAMmB,KAAaH,EACtBhB,EAAcA,GAAegB,EAAYG,GAAWhF,MAEtD,MAAO,CACL+L,WAAYlH,EACZhB,YAAaA,MAGlBd,EAEDkC,iBAAmB,SAAArF,GACjBmD,EAAKmB,SAAS,SAAAE,GACZ,MAAO,CACL2H,WAAUjH,YAAA,GACLV,EAAU2H,WAAUhH,YAAA,GACtBnF,EAAKkF,YAAA,GACDV,EAAU2H,WAAWnM,GAAM,CAC9BK,SAAS,UAKlB8C,EA6CA,OA3GSuC,YAAAwG,EAAAjJ,GA8DT0C,YAAAuG,EAAA,EAAAzO,IAAA,SAAA8C,MAAA,WAEQ,IAAA4J,EAAA9G,KACP,OACE3H,IAAAC,cAACqQ,EAAI,KACHtQ,IAAAC,cAAA,QAAMiP,SAAU,SAAAlK,GAAC,OAAIyJ,EAAK1O,MAAM2Q,SAAS1L,EAAGyJ,EAAKpG,SAC/CrI,IAAAC,cAACqK,EAAK,CACJlJ,GAAG,QACHmD,MAAM,cACNpB,KAAK,QACLsB,QAAQ,QACRM,SAAU4C,KAAK0I,mBACflL,OAAQwC,KAAKgC,iBAAiBY,KAAK5C,KAAM,SACzC9C,MAAO8C,KAAKU,MAAMoI,WAAkB,MAAE5L,MACtCH,MAAOiD,KAAKU,MAAMoI,WAAkB,MAAE/L,MACtCC,QAASgD,KAAKU,MAAMoI,WAAkB,MAAE9L,UAE1C3E,IAAAC,cAACqK,EAAK,CACJlJ,GAAG,OACHmD,MAAM,YACNpB,KAAK,OACLsB,QAAQ,QACRM,SAAU4C,KAAK0I,mBACflL,OAAQwC,KAAKgC,iBAAiBY,KAAK5C,KAAM,QACzC9C,MAAO8C,KAAKU,MAAMoI,WAAiB,KAAE5L,MACrCH,MAAOiD,KAAKU,MAAMoI,WAAiB,KAAE/L,MACrCC,QAASgD,KAAKU,MAAMoI,WAAiB,KAAE9L,UAEzC3E,IAAAC,cAACqK,EAAK,CACJlJ,GAAG,WACHmD,MAAM,WACNpB,KAAK,WACLsB,QAAQ,QACRM,SAAU4C,KAAK0I,mBACflL,OAAQwC,KAAKgC,iBAAiBY,KAAK5C,KAAM,YACzC9C,MAAO8C,KAAKU,MAAMoI,WAAqB,SAAE5L,MACzCH,MAAOiD,KAAKU,MAAMoI,WAAqB,SAAE/L,MACzCC,QAASgD,KAAKU,MAAMoI,WAAqB,SAAE9L,UAE7C3E,IAAAC,cAACqD,EAAM,CAACP,OAAO,SAASI,KAAK,SAASD,QAASyE,KAAK5H,MAAMmD,SAAS,gBAM1EsN,EA3GS,CAAS9F,aCsQfiG,UAAG,SAAApJ,GAAA,SAAAoJ,IAAA,IAAAnJ,EAAAC,EAAAC,YAAAC,KAAAgJ,GAAA,QAAA/I,EAAAC,UAAA9B,OAAA+B,EAAA,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAAF,EAAAE,GAAAH,UAAAG,GAuJN,OAvJMP,EAAAQ,YAAAN,MAAAH,EAAAU,YAAAyI,IAAAxI,KAAAC,MAAAZ,EAAA,CAAAG,MAAAlG,OAAAqG,MACPO,MAAQ,CACNuI,cAAc,EACdC,eAAe,EACfhP,QAAQ,EACR8K,MAAO,KACPmE,OAAQ,KACRC,aAAa,EACbnN,MAAO,MACR6D,EAmBDuJ,iBAAmB,SAACC,GAClBxJ,EAAKmB,SAAS,CAAEiI,cAAeI,EAAQL,aAAcK,KACtDxJ,EAEDyJ,qBAAuB,WACrBzJ,EAAKmB,SAAS,CAAEgI,cAAc,EAAOC,eAAe,EAAOjN,MAAO,QACnE6D,EAED0J,cAAgB,WACd1J,EAAKmB,SAAS,CAAE/G,QAAQ,EAAO8K,MAAO,OACtCyE,aAAaC,WAAW,SACxBD,aAAaC,WAAW,cACxBD,aAAaC,WAAW,WACzB5J,EAED6J,aAAe,SAACnE,EAAOoE,GACrBpE,EAAMC,iBACN3F,EAAKmB,SAAS,CAAEmI,aAAa,IAC7BzE,MAAK,GAAA7K,OACA8K,8CAAYC,uBACb,wBAAuB,eACzB,CACEa,OAAQ,OACRZ,QAAS,CACPa,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBrH,MAAOmL,EAASnL,MAEhBgK,SAAUmB,EAASnB,aAItB1H,KAAK,SAACkE,GACL,GAAmB,MAAfA,EAAItB,OACN,MAAM,IAAIuB,MAAM,sBAElB,GAAmB,MAAfD,EAAItB,QAAiC,MAAfsB,EAAItB,OAE5B,MADAoC,QAAQC,IAAI,UACN,IAAId,MAAM,+BAElB,OAAOD,EAAIE,SAEZpE,KAAK,SAACqE,GACLW,QAAQC,IAAIZ,GACZtF,EAAKmB,SAAS,CACZ/G,QAAQ,EACR8K,MAAOI,EAAQJ,MACfoE,aAAa,EACbD,OAAQ/D,EAAQ+D,SAElBM,aAAaI,QAAQ,QAASzE,EAAQJ,OACtCyE,aAAaI,QAAQ,SAAUzE,EAAQ+D,QACvC,IACMW,EAAa,IAAI7B,MACrB,IAAIA,MAAO8B,UAFiB,MAI9BN,aAAaI,QAAQ,aAAcC,EAAWE,eAC9ClK,EAAKmK,cALyB,QAO/B/I,MAAM,SAAC5B,GACNyG,QAAQC,IAAI1G,GACZQ,EAAKmB,SAAS,CACZ/G,QAAQ,EACRkP,aAAa,EACbnN,MAAOqD,OAGdQ,EAEDoK,cAAgB,SAAC1E,EAAOoE,GACtBpE,EAAMC,iBACN3F,EAAKmB,SAAS,CAAEmI,aAAa,IAC7BzE,MAAK,GAAA7K,OACA8K,8CAAYC,uBACb,wBAAuB,gBACzB,CACEa,OAAQ,MACRZ,QAAS,CACPa,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CACnBrH,MAAOmL,EAASd,WAAWrK,MAAMvB,MACjC8K,KAAM4B,EAASd,WAAWd,KAAK9K,MAC/BuL,SAAUmB,EAASd,WAAWL,SAASvL,UAI1C6D,KAAK,SAACkE,GACL,GAAmB,MAAfA,EAAItB,OACN,MAAM,IAAIuB,MACR,kEAGJ,GAAmB,MAAfD,EAAItB,QAAiC,MAAfsB,EAAItB,OAE5B,MADAoC,QAAQC,IAAI,UACN,IAAId,MAAM,2BAElB,OAAOD,EAAIE,SAEZpE,KAAK,SAACqE,GACLW,QAAQC,IAAIZ,GACZtF,EAAKmB,SAAS,CAAE/G,QAAQ,EAAOkP,aAAa,IAC5CtJ,EAAK1H,MAAM+R,QAAQC,QAAQ,OAE5BlJ,MAAM,SAAC5B,GACNyG,QAAQC,IAAI1G,GACZQ,EAAKmB,SAAS,CACZ/G,QAAQ,EACRkP,aAAa,EACbnN,MAAOqD,OAGdQ,EAEDmK,cAAgB,SAACI,GACfC,WAAW,WACTxK,EAAK0J,iBACJa,IACJvK,EAED9D,aAAe,WACb8D,EAAKmB,SAAS,CAAEhF,MAAO,QACxB6D,EAmFA,OA1OMuC,YAAA2G,EAAApJ,GAuJN0C,YAAA0G,EAAA,EAAA5O,IAAA,oBAAA8C,MAAA,WA3IC,IAAM8H,EAAQyE,aAAac,QAAQ,SAC7BT,EAAaL,aAAac,QAAQ,cACxC,GAAKvF,GAAU8E,EAGf,GAAI,IAAI7B,KAAK6B,IAAe,IAAI7B,KAC9BjI,KAAKwJ,oBADP,CAIA,IAAML,EAASM,aAAac,QAAQ,UAC9BC,EACJ,IAAIvC,KAAK6B,GAAYC,WAAY,IAAI9B,MAAO8B,UAC9C/J,KAAKiB,SAAS,CAAE/G,QAAQ,EAAM8K,MAAOA,EAAOmE,OAAQA,IACpDnJ,KAAKiK,cAAcO,MACpB,CAAApQ,IAAA,SAAA8C,MAAA,WA+HQ,IAAA4J,EAAA9G,KACHyK,EACFpS,IAAAC,cAACoS,IAAM,KACLrS,IAAAC,cAACqS,IAAK,CACJC,KAAK,IACLpQ,OAAK,EACLqQ,OAAQ,SAACzS,GAAK,OACZC,IAAAC,cAACwS,GAASC,OAAAC,OAAA,GACJ5S,EAAK,CACTwQ,QAAS9B,EAAK6C,aACdpO,QAASuL,EAAKpG,MAAM0I,kBAI1B/Q,IAAAC,cAACqS,IAAK,CACJC,KAAK,UACLpQ,OAAK,EACLqQ,OAAQ,SAACzS,GAAK,OACZC,IAAAC,cAAC2S,GAAUF,OAAAC,OAAA,GACL5S,EAAK,CACT2Q,SAAUjC,EAAKoD,cACf3O,QAASuL,EAAKpG,MAAM0I,kBAI1B/Q,IAAAC,cAAC4S,IAAQ,CAAC3Q,GAAG,OA2BjB,OAxBIyF,KAAKU,MAAMxG,SACbuQ,EACEpS,IAAAC,cAACoS,IAAM,KACLrS,IAAAC,cAACqS,IAAK,CACJC,KAAK,IACLpQ,OAAK,EACLqQ,OAAQ,SAACzS,GAAK,OACZC,IAAAC,cAAC6S,EAAQ,CAAChC,OAAQrC,EAAKpG,MAAMyI,OAAQnE,MAAO8B,EAAKpG,MAAMsE,WAG3D3M,IAAAC,cAACqS,IAAK,CACJC,KAAK,WACLC,OAAQ,SAACzS,GAAK,OACZC,IAAAC,cAAC8S,EAAcL,OAAAC,OAAA,GACT5S,EAAK,CACT+Q,OAAQrC,EAAKpG,MAAMyI,OACnBnE,MAAO8B,EAAKpG,MAAMsE,YAIxB3M,IAAAC,cAAC4S,IAAQ,CAAC3Q,GAAG,QAKjBlC,IAAAC,cAACC,WAAQ,KACNyH,KAAKU,MAAMuI,cACV5Q,IAAAC,cAAC4D,EAAQ,CAACjD,QAAS+G,KAAKuJ,uBAE1BlR,IAAAC,cAACgP,EAAY,CAACrL,MAAO+D,KAAKU,MAAMzE,MAAOE,SAAU6D,KAAKhE,eACtD3D,IAAAC,cAAC+S,EAAM,CACL5S,OACEJ,IAAAC,cAACgT,EAAO,KACNjT,IAAAC,cAACiT,EAAc,CACb1Q,gBAAiBmF,KAAKqJ,iBAAiBzG,KAAK5C,MAAM,GAClDtF,SAAUsF,KAAKwJ,cACftP,OAAQ8F,KAAKU,MAAMxG,UAIzBxB,UACEL,IAAAC,cAACkT,EAAgB,CACfzS,KAAMiH,KAAKU,MAAMwI,cACjB7O,QAAM,EACNY,aAAc+E,KAAKqJ,iBAAiBzG,KAAK5C,MAAM,GAC/CtF,SAAUsF,KAAKwJ,cACftP,OAAQ8F,KAAKU,MAAMxG,WAIxBuQ,OAGNzB,EA1OM,CAASjG,cA6OH0I,eAAWzC,ICnf1BnQ,IAASgS,OACPxS,IAAAC,cAACoT,IAAa,KACZrT,IAAAC,cAAC0Q,GAAG,OAEN9P,SAASC,eAAe","file":"static/js/main.20c3c300.chunk.js","sourcesContent":["import React, { Fragment } from 'react';\n\nimport './Layout.css';\n\nconst layout = props => (\n  <Fragment>\n    <header className=\"main-header\">{props.header}</header>\n    {props.mobileNav}\n    <main className=\"content\">{props.children}</main>\n  </Fragment>\n);\n\nexport default layout;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './Backdrop.css';\n\nconst backdrop = props =>\n  ReactDOM.createPortal(\n    <div\n      className={['backdrop', props.open ? 'open' : ''].join(' ')}\n      onClick={props.onClick}\n    />,\n    document.getElementById('backdrop-root')\n  );\n\nexport default backdrop;\n","import React from 'react';\n\nimport './Toolbar.css';\n\nconst toolbar = props => (\n    <div className=\"toolbar\">\n       {props.children}\n    </div>\n);\n\nexport default toolbar;","import React from 'react';\n\nimport './MobileToggle.css';\n\nconst mobileToggle = props => (\n  <button className=\"mobile-toggle\" onClick={props.onOpen}>\n    <span className=\"mobile-toggle__bar\" />\n    <span className=\"mobile-toggle__bar\" />\n    <span className=\"mobile-toggle__bar\" />\n  </button>\n);\n\nexport default mobileToggle;\n","import React from 'react';\n\nimport './Logo.css';\n\nconst logo = props => <h1 className=\"logo\">MessageNode</h1>;\n\nexport default logo;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport './NavigationItems.css';\n\nconst navItems = [\n  { id: 'feed', text: 'Feed', link: '/', auth: true },\n  { id: 'login', text: 'Login', link: '/', auth: false },\n  { id: 'signup', text: 'Signup', link: '/signup', auth: false }\n];\n\nconst navigationItems = props => [\n  ...navItems.filter(item => item.auth === props.isAuth).map(item => (\n    <li\n      key={item.id}\n      className={['navigation-item', props.mobile ? 'mobile' : ''].join(' ')}\n    >\n      <NavLink to={item.link} exact onClick={props.onChoose}>\n        {item.text}\n      </NavLink>\n    </li>\n  )),\n  props.isAuth && (\n    <li className=\"navigation-item\" key=\"logout\">\n      <button onClick={props.onLogout}>Logout</button>\n    </li>\n  )\n];\n\nexport default navigationItems;\n","import React from 'react';\nimport { NavLink } from 'react-router-dom';\n\nimport MobileToggle from '../MobileToggle/MobileToggle';\nimport Logo from '../../Logo/Logo';\nimport NavigationItems from '../NavigationItems/NavigationItems';\n\nimport './MainNavigation.css';\n\nconst mainNavigation = props => (\n  <nav className=\"main-nav\">\n    <MobileToggle onOpen={props.onOpenMobileNav} />\n    <div className=\"main-nav__logo\">\n      <NavLink to=\"/\">\n        <Logo />\n      </NavLink>\n    </div>\n    <div className=\"spacer\" />\n    <ul className=\"main-nav__items\">\n      <NavigationItems isAuth={props.isAuth} onLogout={props.onLogout} />\n    </ul>\n  </nav>\n);\n\nexport default mainNavigation;\n","import React from 'react';\n\nimport NavigationItems from '../NavigationItems/NavigationItems';\nimport './MobileNavigation.css';\n\nconst mobileNavigation = props => (\n  <nav className={['mobile-nav', props.open ? 'open' : ''].join(' ')}>\n    <ul\n      className={['mobile-nav__items', props.mobile ? 'mobile' : ''].join(' ')}\n    >\n      <NavigationItems\n        mobile\n        onChoose={props.onChooseItem}\n        isAuth={props.isAuth}\n        onLogout={props.onLogout}\n      />\n    </ul>\n  </nav>\n);\n\nexport default mobileNavigation;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Button.css';\n\nconst button = props =>\n  !props.link ? (\n    <button\n      className={[\n        'button',\n        `button--${props.design}`,\n        `button--${props.mode}`\n      ].join(' ')}\n      onClick={props.onClick}\n      disabled={props.disabled || props.loading}\n      type={props.type}\n    >\n      {props.loading ? 'Loading...' : props.children}\n    </button>\n  ) : (\n    <Link\n      className={[\n        'button',\n        `button--${props.design}`,\n        `button--${props.mode}`\n      ].join(' ')}\n      to={props.link}\n    >\n      {props.children}\n    </Link>\n  );\n\nexport default button;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport Button from '../Button/Button';\nimport './Modal.css';\n\nconst modal = props =>\n  ReactDOM.createPortal(\n    <div className=\"modal\">\n      <header className=\"modal__header\">\n        <h1>{props.title}</h1>\n      </header>\n      <div className=\"modal__content\">{props.children}</div>\n      <div className=\"modal__actions\">\n        <Button design=\"danger\" mode=\"flat\" onClick={props.onCancelModal}>\n          Cancel\n        </Button>\n        <Button\n          mode=\"raised\"\n          onClick={props.onAcceptModal}\n          disabled={!props.acceptEnabled}\n          loading={props.isLoading}\n        >\n          Accept\n        </Button>\n      </div>\n    </div>,\n    document.getElementById('modal-root')\n  );\n\nexport default modal;\n","import React, { Fragment } from 'react';\n\nimport Backdrop from '../Backdrop/Backdrop';\nimport Modal from '../Modal/Modal';\n\nconst errorHandler = props => (\n  <Fragment>\n    {props.error && <Backdrop onClick={props.onHandle} />}\n    {props.error && (\n      <Modal\n        title=\"An Error Occurred\"\n        onCancelModal={props.onHandle}\n        onAcceptModal={props.onHandle}\n        acceptEnabled\n      >\n        <p>{props.error.message}</p>\n      </Modal>\n    )}\n  </Fragment>\n);\n\nexport default errorHandler;\n","import React from 'react';\n\nimport Button from '../../Button/Button';\nimport './Post.css';\n\nconst post = props => (\n  <article className=\"post\">\n    <header className=\"post__header\">\n      <h3 className=\"post__meta\">\n        Posted by {props.author} on {props.date}\n      </h3>\n      <h1 className=\"post__title\">{props.title}</h1>\n    </header>\n    {/* <div className=\"post__image\">\n      <Image imageUrl={props.image} contain />\n    </div>\n    <div className=\"post__content\">{props.content}</div> */}\n    <div className=\"post__actions\">\n      <Button mode=\"flat\" link={props.id}>\n        View\n      </Button>\n      <Button mode=\"flat\" onClick={props.onStartEdit}>\n        Edit\n      </Button>\n      <Button mode=\"flat\" design=\"danger\" onClick={props.onDelete}>\n        Delete\n      </Button>\n    </div>\n  </article>\n);\n\nexport default post;\n","import React from 'react';\n\nimport './Input.css';\n\nconst input = props => (\n  <div className=\"input\">\n    {props.label && <label htmlFor={props.id}>{props.label}</label>}\n    {props.control === 'input' && (\n      <input\n        className={[\n          !props.valid ? 'invalid' : 'valid',\n          props.touched ? 'touched' : 'untouched'\n        ].join(' ')}\n        type={props.type}\n        id={props.id}\n        required={props.required}\n        value={props.value}\n        placeholder={props.placeholder}\n        onChange={e => props.onChange(props.id, e.target.value, e.target.files)}\n        onBlur={props.onBlur}\n      />\n    )}\n    {props.control === 'textarea' && (\n      <textarea\n        className={[\n          !props.valid ? 'invalid' : 'valid',\n          props.touched ? 'touched' : 'untouched'\n        ].join(' ')}\n        id={props.id}\n        rows={props.rows}\n        required={props.required}\n        value={props.value}\n        onChange={e => props.onChange(props.id, e.target.value)}\n        onBlur={props.onBlur}\n      />\n    )}\n  </div>\n);\n\nexport default input;\n","import React from 'react';\n\nimport './Input.css';\n\nconst filePicker = props => (\n  <div className=\"input\">\n    <label htmlFor={props.id}>{props.label}</label>\n    <input\n      className={[\n        !props.valid ? 'invalid' : 'valid',\n        props.touched ? 'touched' : 'untouched'\n      ].join(' ')}\n      type=\"file\"\n      id={props.id}\n      onChange={e => props.onChange(props.id, e.target.value, e.target.files)}\n      onBlur={props.onBlur}\n    />\n  </div>\n);\n\nexport default filePicker;\n","import React from 'react';\n\nimport './Image.css';\n\nconst image = props => (\n  <div\n    className=\"image\"\n    style={{\n      backgroundImage: `url('${props.imageUrl}')`,\n      backgroundSize: props.contain ? 'contain' : 'cover',\n      backgroundPosition: props.left ? 'left' : 'center'\n    }}\n  />\n);\n\nexport default image;\n","export const required = value => value.trim() !== '';\n\nexport const length = config => value => {\n  let isValid = true;\n  if (config.min) {\n    isValid = isValid && value.trim().length >= config.min;\n  }\n  if (config.max) {\n    isValid = isValid && value.trim().length <= config.max;\n  }\n  return isValid;\n};\n\nexport const email = value =>\n  /[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/.test(\n    value\n  );\n","export const generateBase64FromImage = imageFile => {\n  const reader = new FileReader();\n  const promise = new Promise((resolve, reject) => {\n    reader.onload = e => resolve(e.target.result);\n    reader.onerror = err => reject(err);\n  });\n\n  reader.readAsDataURL(imageFile);\n  return promise;\n};\n","import React, { Component, Fragment } from \"react\";\n\nimport Backdrop from \"../../Backdrop/Backdrop\";\nimport Modal from \"../../Modal/Modal\";\nimport Input from \"../../Form/Input/Input\";\nimport FilePicker from \"../../Form/Input/FilePicker\";\nimport Image from \"../../Image/Image\";\nimport { required, length } from \"../../../util/validators\";\nimport { generateBase64FromImage } from \"../../../util/image\";\nimport \"./FeedEdit.css\";\n\nconst POST_FORM = {\n  title: {\n    value: \"\",\n    valid: false,\n    touched: false,\n    validators: [required, length({ min: 5 })],\n  },\n  image: {\n    value: \"\",\n    valid: false,\n    touched: false,\n    validators: [required],\n  },\n  content: {\n    value: \"\",\n    valid: false,\n    touched: false,\n    validators: [required, length({ min: 5 })],\n  },\n};\n\nclass FeedEdit extends Component {\n  state = {\n    postForm: POST_FORM,\n    formIsValid: false,\n    imagePreview: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      this.props.editing &&\n      prevProps.editing !== this.props.editing &&\n      prevProps.selectedPost !== this.props.selectedPost\n    ) {\n      const postForm = {\n        title: {\n          ...prevState.postForm.title,\n          value: this.props.selectedPost.title,\n          valid: true,\n        },\n        image: {\n          ...prevState.postForm.image,\n          value: this.props.selectedPost.imagePath,\n          valid: true,\n        },\n        content: {\n          ...prevState.postForm.content,\n          value: this.props.selectedPost.content,\n          valid: true,\n        },\n      };\n      this.setState({ postForm: postForm, formIsValid: true });\n    }\n  }\n\n  postInputChangeHandler = (input, value, files) => {\n    if (files) {\n      generateBase64FromImage(files[0])\n        .then((b64) => {\n          this.setState({ imagePreview: b64 });\n        })\n        .catch((e) => {\n          this.setState({ imagePreview: null });\n        });\n    }\n    this.setState((prevState) => {\n      let isValid = true;\n      for (const validator of prevState.postForm[input].validators) {\n        isValid = isValid && validator(value);\n      }\n      const updatedForm = {\n        ...prevState.postForm,\n        [input]: {\n          ...prevState.postForm[input],\n          valid: isValid,\n          value: files ? files[0] : value,\n        },\n      };\n      let formIsValid = true;\n      for (const inputName in updatedForm) {\n        formIsValid = formIsValid && updatedForm[inputName].valid;\n      }\n      return {\n        postForm: updatedForm,\n        formIsValid: formIsValid,\n      };\n    });\n  };\n\n  inputBlurHandler = (input) => {\n    this.setState((prevState) => {\n      return {\n        postForm: {\n          ...prevState.postForm,\n          [input]: {\n            ...prevState.postForm[input],\n            touched: true,\n          },\n        },\n      };\n    });\n  };\n\n  cancelPostChangeHandler = () => {\n    this.setState({\n      postForm: POST_FORM,\n      formIsValid: false,\n    });\n    this.props.onCancelEdit();\n  };\n\n  acceptPostChangeHandler = () => {\n    const post = {\n      title: this.state.postForm.title.value,\n      image: this.state.postForm.image.value,\n      content: this.state.postForm.content.value,\n    };\n    this.props.onFinishEdit(post);\n    this.setState({\n      postForm: POST_FORM,\n      formIsValid: false,\n      imagePreview: null,\n    });\n  };\n\n  render() {\n    return this.props.editing ? (\n      <Fragment>\n        <Backdrop onClick={this.cancelPostChangeHandler} />\n\n        <Modal\n          title=\"New Post\"\n          acceptEnabled={this.state.formIsValid}\n          onCancelModal={this.cancelPostChangeHandler}\n          onAcceptModal={this.acceptPostChangeHandler}\n          isLoading={this.props.loading}\n        >\n          <form className=\"feed-edit-form\">\n            <Input\n              id=\"title\"\n              label=\"Title\"\n              control=\"input\"\n              onChange={this.postInputChangeHandler}\n              onBlur={this.inputBlurHandler.bind(this, \"title\")}\n              valid={this.state.postForm[\"title\"].valid}\n              touched={this.state.postForm[\"title\"].touched}\n              value={this.state.postForm[\"title\"].value}\n            />\n            <FilePicker\n              id=\"image\"\n              label=\"Image\"\n              control=\"input\"\n              onChange={this.postInputChangeHandler}\n              onBlur={this.inputBlurHandler.bind(this, \"image\")}\n              valid={this.state.postForm[\"image\"].valid}\n              touched={this.state.postForm[\"image\"].touched}\n            />\n            <div className=\"new-post__preview-image\">\n              {!this.state.imagePreview && <p>Please choose an image.</p>}\n              {this.state.imagePreview && (\n                <Image imageUrl={this.state.imagePreview} contain left />\n              )}\n            </div>\n            <Input\n              id=\"content\"\n              label=\"Content\"\n              control=\"textarea\"\n              rows=\"5\"\n              onChange={this.postInputChangeHandler}\n              onBlur={this.inputBlurHandler.bind(this, \"content\")}\n              valid={this.state.postForm[\"content\"].valid}\n              touched={this.state.postForm[\"content\"].touched}\n              value={this.state.postForm[\"content\"].value}\n            />\n          </form>\n        </Modal>\n      </Fragment>\n    ) : null;\n  }\n}\n\nexport default FeedEdit;\n","import React from 'react';\n\nimport './Paginator.css';\n\nconst paginator = props => (\n  <div className=\"paginator\">\n    {props.children}\n    <div className=\"paginator__controls\">\n      {props.currentPage > 1 && (\n        <button className=\"paginator__control\" onClick={props.onPrevious}>\n          Previous\n        </button>\n      )}\n      {props.currentPage < props.lastPage && (\n        <button className=\"paginator__control\" onClick={props.onNext}>\n          Next\n        </button>\n      )}\n    </div>\n  </div>\n);\n\nexport default paginator;\n","import React from 'react';\n\nimport './Loader.css';\n\nconst loader = props => (\n  <div className=\"loader\">\n    <div />\n    <div />\n    <div />\n    <div />\n  </div>\n);\n\nexport default loader;\n","// import React, { Component, Fragment } from \"react\";\n// import openSocket from \"socket.io-client\";\n// import Post from \"../../components/Feed/Post/Post\";\n// import Button from \"../../components/Button/Button\";\n// import FeedEdit from \"../../components/Feed/FeedEdit/FeedEdit\";\n// import Input from \"../../components/Form/Input/Input\";\n// import Paginator from \"../../components/Paginator/Paginator\";\n// import Loader from \"../../components/Loader/Loader\";\n// import ErrorHandler from \"../../components/ErrorHandler/ErrorHandler\";\n// import \"./Feed.css\";\n\n// class Feed extends Component {\n//   state = {\n//     isEditing: false,\n//     posts: [],\n//     totalPosts: 0,\n//     editPost: null,\n//     status: \"\",\n//     postPage: 1,\n//     postsLoading: true,\n//     editLoading: false,\n//   };\n\n//   componentDidMount() {\n//     fetch(\n//       `${process.env.REACT_APP_BACKEND_URL}/auth/status` ||\n//         \"http://localhost:8080/auth/status\",\n//       {\n//         headers: {\n//           Authorization: \"Bearer \" + this.props.token,\n//         },\n//       },\n//     )\n//       .then((res) => {\n//         console.log(res);\n//         if (res.status !== 200) {\n//           throw new Error(\"Failed to fetch user status.\");\n//         }\n//         return res.json();\n//       })\n//       .then((resData) => {\n//         this.setState({ status: resData.status });\n//       })\n//       .catch(this.catchError);\n//     this.loadPosts();\n//     this.socket = openSocket(\n//       `${process.env.REACT_APP_BACKEND_URL}` || \"http://localhost:8080\",\n//     );\n//     this.socket.on(\"posts\", (data) => {\n//       console.log(\"Socket event received:\", data);\n//       if (data.action === \"create\") {\n//         this.addPost(data.post);\n//       } else if (data.action === \"update\") {\n//         this.updatePost(data.post);\n//       } else if (data.action === \"delete\") {\n//         this.loadPosts();\n//       }\n//     });\n//   }\n//   componentWillUnmount() {\n//     if (this.socket) {\n//       this.socket.disconnect();\n//     }\n//   }\n\n//   addPost = (post) => {\n//     this.setState((prevState) => {\n//       const updatedPosts = [...prevState.posts];\n//       if (prevState.postPage === 1) {\n//         if (prevState.posts.length >= 2) {\n//           updatedPosts.pop();\n//         }\n//         updatedPosts.unshift(post);\n//       }\n//       return {\n//         posts: updatedPosts,\n//         totalPosts: prevState.totalPosts + 1,\n//       };\n//     });\n//   };\n\n//   updatePost = (post) => {\n//     this.setState((prevState) => {\n//       const updatedPosts = [...prevState.posts];\n//       const updatedPostIndex = updatedPosts.findIndex(\n//         (p) => p._id === post._id,\n//       );\n//       if (updatedPostIndex > -1) {\n//         updatedPosts[updatedPostIndex] = post;\n//       }\n//       return {\n//         posts: updatedPosts,\n//       };\n//     });\n//   };\n\n//   loadPosts = (direction) => {\n//     if (direction) {\n//       this.setState({ postsLoading: true, posts: [] });\n//     }\n//     let page = this.state.postPage;\n//     if (direction === \"next\") {\n//       page++;\n//       this.setState({ postPage: page });\n//     }\n//     if (direction === \"previous\") {\n//       page--;\n//       this.setState({ postPage: page });\n//     }\n//     fetch(\n//       `${process.env.REACT_APP_BACKEND_URL}/feed/posts?page=${page}` ||\n//         \"http://localhost:8080/feed/posts?page=\" + page,\n//       {\n//         headers: {\n//           Authorization: \"Bearer \" + this.props.token,\n//         },\n//       },\n//     )\n//       .then((res) => {\n//         if (res.status !== 200) {\n//           throw new Error(\"Failed to fetch posts.\");\n//         }\n//         return res.json();\n//       })\n//       .then((resData) => {\n//         this.setState({\n//           posts: resData.posts.map((post) => {\n//             return {\n//               ...post,\n//               imageUrl: post.imageUrl,\n//             };\n//           }),\n//           totalPosts: resData.totalItems,\n//           postsLoading: false,\n//         });\n//       })\n//       .catch(this.catchError);\n//   };\n\n//   statusUpdateHandler = (event) => {\n//     event.preventDefault();\n//     fetch(\n//       `${process.env.REACT_APP_BACKEND_URL}/auth/status` ||\n//         \"http://localhost:8080/auth/status\",\n//       {\n//         method: \"PATCH\",\n//         headers: {\n//           Authorization: \"Bearer \" + this.props.token,\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify({\n//           status: this.state.status,\n//         }),\n//         //since here we are sending the json therefore we need to add the content-type above\n//       },\n//     )\n//       .then((res) => {\n//         if (res.status !== 200 && res.status !== 201) {\n//           throw new Error(\"Can't update status!\");\n//         }\n//         return res.json();\n//       })\n//       .then((resData) => {\n//         console.log(resData);\n//       })\n//       .catch(this.catchError);\n//   };\n\n//   newPostHandler = () => {\n//     this.setState({ isEditing: true });\n//   };\n\n//   startEditPostHandler = (postId) => {\n//     this.setState((prevState) => {\n//       const loadedPost = { ...prevState.posts.find((p) => p._id === postId) };\n\n//       return {\n//         isEditing: true,\n//         editPost: loadedPost,\n//       };\n//     });\n//   };\n\n//   cancelEditHandler = () => {\n//     this.setState({ isEditing: false, editPost: null });\n//   };\n\n//   finishEditHandler = (postData) => {\n//     this.setState({\n//       editLoading: true,\n//     });\n//     const formData = new FormData();\n//     formData.append(\"title\", postData.title);\n//     formData.append(\"content\", postData.content);\n//     formData.append(\"image\", postData.image);\n//     let url =\n//       `${process.env.REACT_APP_BACKEND_URL}/feed/post` ||\n//       \"http://localhost:8080/feed/post\";\n//     let method = \"POST\";\n//     if (this.state.editPost) {\n//       url =\n//         `${process.env.REACT_APP_BACKEND_URL}/feed/post/${this.state.editPost._id}` ||\n//         \"http://localhost:8080/feed/post/\" + this.state.editPost._id;\n//       method = \"PUT\";\n//     }\n\n//     fetch(url, {\n//       method: method,\n//       body: formData,\n//       headers: {\n//         Authorization: \"Bearer \" + this.props.token,\n//       },\n//     })\n//       .then((res) => {\n//         if (res.status !== 200 && res.status !== 201) {\n//           throw new Error(\"Creating or editing a post failed!\");\n//         }\n//         return res.json();\n//       })\n//       .then((resData) => {\n//         console.log(resData);\n//         this.setState((prevState) => {\n//           return {\n//             isEditing: false,\n//             editPost: null,\n//             editLoading: false,\n//           };\n//         });\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//         this.setState({\n//           isEditing: false,\n//           editPost: null,\n//           editLoading: false,\n//           error: err,\n//         });\n//       });\n//   };\n\n//   statusInputChangeHandler = (input, value) => {\n//     this.setState({ status: value });\n//   };\n\n//   deletePostHandler = (postId) => {\n//     fetch(\n//       `${process.env.REACT_APP_BACKEND_URL}/feed/post/${postId}` ||\n//         \"http://localhost:8080/feed/post/\" + postId,\n//       {\n//         method: \"DELETE\",\n//         headers: {\n//           Authorization: \"Bearer \" + this.props.token,\n//         },\n//       },\n//     )\n//       .then((res) => {\n//         if (res.status !== 200 && res.status !== 201) {\n//           throw new Error(\"Deleting a post failed!\");\n//         }\n//         return res.json();\n//       })\n//       .then((resData) => {\n//         console.log(resData);\n//         this.loadPosts();\n//         // this.setState((prevState) => {\n//         //   const updatedPosts = prevState.posts.filter((p) => p._id !== postId);\n//         //   return { posts: updatedPosts, postsLoading: false };\n//         // });\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//         this.setState({ postsLoading: false });\n//       });\n//   };\n\n//   errorHandler = () => {\n//     this.setState({ error: null });\n//   };\n\n//   catchError = (error) => {\n//     this.setState({ error: error });\n//   };\n\n//   render() {\n//     return (\n//       <Fragment>\n//         <ErrorHandler error={this.state.error} onHandle={this.errorHandler} />\n//         <FeedEdit\n//           editing={this.state.isEditing}\n//           selectedPost={this.state.editPost}\n//           loading={this.state.editLoading}\n//           onCancelEdit={this.cancelEditHandler}\n//           onFinishEdit={this.finishEditHandler}\n//         />\n//         <section className=\"feed__status\">\n//           <form onSubmit={this.statusUpdateHandler}>\n//             <Input\n//               type=\"text\"\n//               placeholder=\"Your status\"\n//               control=\"input\"\n//               onChange={this.statusInputChangeHandler}\n//               value={this.state.status}\n//             />\n//             <Button mode=\"flat\" type=\"submit\">\n//               Update\n//             </Button>\n//           </form>\n//         </section>\n//         <section className=\"feed__control\">\n//           <Button mode=\"raised\" design=\"accent\" onClick={this.newPostHandler}>\n//             New Post\n//           </Button>\n//         </section>\n//         <section className=\"feed\">\n//           {this.state.postsLoading && (\n//             <div style={{ textAlign: \"center\", marginTop: \"2rem\" }}>\n//               <Loader />\n//             </div>\n//           )}\n//           {this.state.posts.length <= 0 && !this.state.postsLoading ? (\n//             <p style={{ textAlign: \"center\" }}>No posts found.</p>\n//           ) : null}\n//           {!this.state.postsLoading && (\n//             <Paginator\n//               onPrevious={this.loadPosts.bind(this, \"previous\")}\n//               onNext={this.loadPosts.bind(this, \"next\")}\n//               lastPage={Math.ceil(this.state.totalPosts / 2)}\n//               currentPage={this.state.postPage}\n//             >\n//               {this.state.posts.map((post, creator) => (\n//                 <Post\n//                   key={post._id}\n//                   id={post._id}\n//                   author={post.creator.name}\n//                   date={new Date(post.createdAt).toLocaleDateString(\"en-US\")}\n//                   title={post.title}\n//                   image={post.imageUrl}\n//                   content={post.content}\n//                   onStartEdit={this.startEditPostHandler.bind(this, post._id)}\n//                   onDelete={this.deletePostHandler.bind(this, post._id)}\n//                 />\n//               ))}\n//             </Paginator>\n//           )}\n//         </section>\n//       </Fragment>\n//     );\n//   }\n// }\n\n// export default Feed;\n\nimport React, { Component, Fragment } from \"react\";\nimport openSocket from \"socket.io-client\";\nimport Post from \"../../components/Feed/Post/Post\";\nimport Button from \"../../components/Button/Button\";\nimport FeedEdit from \"../../components/Feed/FeedEdit/FeedEdit\";\nimport Input from \"../../components/Form/Input/Input\";\nimport Paginator from \"../../components/Paginator/Paginator\";\nimport Loader from \"../../components/Loader/Loader\";\nimport ErrorHandler from \"../../components/ErrorHandler/ErrorHandler\";\nimport \"./Feed.css\";\n\nclass Feed extends Component {\n  state = {\n    isEditing: false,\n    posts: [],\n    totalPosts: 0,\n    editPost: null,\n    status: \"\",\n    postPage: 1,\n    postsLoading: true,\n    editLoading: false,\n  };\n\n  componentDidMount() {\n    fetch(\n      `${process.env.REACT_APP_BACKEND_URL ||\n        \"http://localhost:8080\"}/auth/status`,\n      {\n        headers: {\n          Authorization: \"Bearer \" + this.props.token,\n        },\n      },\n    )\n      .then((res) => {\n        console.log(res);\n        if (res.status !== 200) {\n          throw new Error(\"Failed to fetch user status.\");\n        }\n        return res.json();\n      })\n      .then((resData) => {\n        this.setState({ status: resData.status });\n      })\n      .catch(this.catchError);\n    this.loadPosts();\n    this.socket = openSocket(\n      process.env.REACT_APP_BACKEND_URL || \"http://localhost:8080\",\n    );\n    this.socket.on(\"posts\", (data) => {\n      console.log(\"Socket event received:\", data);\n      if (data.action === \"create\") {\n        this.addPost(data.post);\n      } else if (data.action === \"update\") {\n        this.updatePost(data.post);\n      } else if (data.action === \"delete\") {\n        this.loadPosts();\n      }\n    });\n  }\n  componentWillUnmount() {\n    if (this.socket) {\n      this.socket.disconnect();\n    }\n  }\n\n  addPost = (post) => {\n    this.setState((prevState) => {\n      const updatedPosts = [...prevState.posts];\n      if (prevState.postPage === 1) {\n        if (prevState.posts.length >= 2) {\n          updatedPosts.pop();\n        }\n        updatedPosts.unshift(post);\n      }\n      return {\n        posts: updatedPosts,\n        totalPosts: prevState.totalPosts + 1,\n      };\n    });\n  };\n\n  updatePost = (post) => {\n    this.setState((prevState) => {\n      const updatedPosts = [...prevState.posts];\n      const updatedPostIndex = updatedPosts.findIndex(\n        (p) => p._id === post._id,\n      );\n      if (updatedPostIndex > -1) {\n        updatedPosts[updatedPostIndex] = post;\n      }\n      return {\n        posts: updatedPosts,\n      };\n    });\n  };\n\n  loadPosts = (direction) => {\n    if (direction) {\n      this.setState({ postsLoading: true, posts: [] });\n    }\n    let page = this.state.postPage;\n    if (direction === \"next\") {\n      page++;\n      this.setState({ postPage: page });\n    }\n    if (direction === \"previous\") {\n      page--;\n      this.setState({ postPage: page });\n    }\n    fetch(\n      `${process.env.REACT_APP_BACKEND_URL ||\n        \"http://localhost:8080\"}/feed/posts?page=${page}`,\n      {\n        headers: {\n          Authorization: \"Bearer \" + this.props.token,\n        },\n      },\n    )\n      .then((res) => {\n        if (res.status !== 200) {\n          throw new Error(\"Failed to fetch posts.\");\n        }\n        return res.json();\n      })\n      .then((resData) => {\n        this.setState({\n          posts: resData.posts.map((post) => {\n            return {\n              ...post,\n              imageUrl: post.imageUrl,\n            };\n          }),\n          totalPosts: resData.totalItems,\n          postsLoading: false,\n        });\n      })\n      .catch(this.catchError);\n  };\n\n  statusUpdateHandler = (event) => {\n    event.preventDefault();\n    fetch(\n      `${process.env.REACT_APP_BACKEND_URL ||\n        \"http://localhost:8080\"}/auth/status`,\n      {\n        method: \"PATCH\",\n        headers: {\n          Authorization: \"Bearer \" + this.props.token,\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          status: this.state.status,\n        }),\n        //since here we are sending the json therefore we need to add the content-type above\n      },\n    )\n      .then((res) => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error(\"Can't update status!\");\n        }\n        return res.json();\n      })\n      .then((resData) => {\n        console.log(resData);\n      })\n      .catch(this.catchError);\n  };\n\n  newPostHandler = () => {\n    this.setState({ isEditing: true });\n  };\n\n  startEditPostHandler = (postId) => {\n    this.setState((prevState) => {\n      const loadedPost = { ...prevState.posts.find((p) => p._id === postId) };\n\n      return {\n        isEditing: true,\n        editPost: loadedPost,\n      };\n    });\n  };\n\n  cancelEditHandler = () => {\n    this.setState({ isEditing: false, editPost: null });\n  };\n\n  finishEditHandler = (postData) => {\n    this.setState({\n      editLoading: true,\n    });\n    const formData = new FormData();\n    formData.append(\"title\", postData.title);\n    formData.append(\"content\", postData.content);\n    formData.append(\"image\", postData.image);\n    let url = `${process.env.REACT_APP_BACKEND_URL ||\n      \"http://localhost:8080\"}/feed/post`;\n    let method = \"POST\";\n    if (this.state.editPost) {\n      url = `${process.env.REACT_APP_BACKEND_URL ||\n        \"http://localhost:8080\"}/feed/post/${this.state.editPost._id}`;\n      method = \"PUT\";\n    }\n\n    fetch(url, {\n      method: method,\n      body: formData,\n      headers: {\n        Authorization: \"Bearer \" + this.props.token,\n      },\n    })\n      .then((res) => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error(\"Creating or editing a post failed!\");\n        }\n        return res.json();\n      })\n      .then((resData) => {\n        console.log(resData);\n        this.setState((prevState) => {\n          return {\n            isEditing: false,\n            editPost: null,\n            editLoading: false,\n          };\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({\n          isEditing: false,\n          editPost: null,\n          editLoading: false,\n          error: err,\n        });\n      });\n  };\n\n  statusInputChangeHandler = (input, value) => {\n    this.setState({ status: value });\n  };\n\n  deletePostHandler = (postId) => {\n    fetch(\n      `${process.env.REACT_APP_BACKEND_URL ||\n        \"http://localhost:8080\"}/feed/post/${postId}`,\n      {\n        method: \"DELETE\",\n        headers: {\n          Authorization: \"Bearer \" + this.props.token,\n        },\n      },\n    )\n      .then((res) => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error(\"Deleting a post failed!\");\n        }\n        return res.json();\n      })\n      .then((resData) => {\n        console.log(resData);\n        this.loadPosts();\n        // this.setState((prevState) => {\n        //   const updatedPosts = prevState.posts.filter((p) => p._id !== postId);\n        //   return { posts: updatedPosts, postsLoading: false };\n        // });\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({ postsLoading: false });\n      });\n  };\n\n  errorHandler = () => {\n    this.setState({ error: null });\n  };\n\n  catchError = (error) => {\n    this.setState({ error: error });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <ErrorHandler error={this.state.error} onHandle={this.errorHandler} />\n        <FeedEdit\n          editing={this.state.isEditing}\n          selectedPost={this.state.editPost}\n          loading={this.state.editLoading}\n          onCancelEdit={this.cancelEditHandler}\n          onFinishEdit={this.finishEditHandler}\n        />\n        <section className=\"feed__status\">\n          <form onSubmit={this.statusUpdateHandler}>\n            <Input\n              type=\"text\"\n              placeholder=\"Your status\"\n              control=\"input\"\n              onChange={this.statusInputChangeHandler}\n              value={this.state.status}\n            />\n            <Button mode=\"flat\" type=\"submit\">\n              Update\n            </Button>\n          </form>\n        </section>\n        <section className=\"feed__control\">\n          <Button mode=\"raised\" design=\"accent\" onClick={this.newPostHandler}>\n            New Post\n          </Button>\n        </section>\n        <section className=\"feed\">\n          {this.state.postsLoading && (\n            <div style={{ textAlign: \"center\", marginTop: \"2rem\" }}>\n              <Loader />\n            </div>\n          )}\n          {this.state.posts.length <= 0 && !this.state.postsLoading ? (\n            <p style={{ textAlign: \"center\" }}>No posts found.</p>\n          ) : null}\n          {!this.state.postsLoading && (\n            <Paginator\n              onPrevious={this.loadPosts.bind(this, \"previous\")}\n              onNext={this.loadPosts.bind(this, \"next\")}\n              lastPage={Math.ceil(this.state.totalPosts / 2)}\n              currentPage={this.state.postPage}\n            >\n              {this.state.posts.map((post, creator) => (\n                <Post\n                  key={post._id}\n                  id={post._id}\n                  author={post.creator.name}\n                  date={new Date(post.createdAt).toLocaleDateString(\"en-US\")}\n                  title={post.title}\n                  image={post.imageUrl}\n                  content={post.content}\n                  onStartEdit={this.startEditPostHandler.bind(this, post._id)}\n                  onDelete={this.deletePostHandler.bind(this, post._id)}\n                />\n              ))}\n            </Paginator>\n          )}\n        </section>\n      </Fragment>\n    );\n  }\n}\n\nexport default Feed;\n","// import React, { Component } from \"react\";\n\n// import Image from \"../../../components/Image/Image\";\n// import \"./SinglePost.css\";\n\n// class SinglePost extends Component {\n//   state = {\n//     title: \"\",\n//     author: \"\",\n//     date: \"\",\n//     image: \"\",\n//     content: \"\",\n//   };\n\n//   componentDidMount() {\n//     const postId = this.props.match.params.postId;\n//     fetch(\n//       `${process.env.REACT_APP_BACKEND_URL ||\n//         \"http://localhost:8080\"}/feed/post/` + postId,\n//       {\n//         headers: {\n//           Authorization: \"Bearer \" + this.props.token,\n//         },\n//       },\n//     )\n//       .then((res) => {\n//         if (res.status !== 200) {\n//           throw new Error(\"Failed to fetch status\");\n//         }\n//         return res.json();\n//       })\n//       .then((resData) => {\n//         this.setState({\n//           title: resData.post.title,\n//           author: resData.post.creator.name,\n//           image:\n//             `${process.env.REACT_APP_BACKEND_URL || \"http://localhost:8080\"}/` +\n//             resData.post.imageUrl,\n//           date: new Date(resData.post.createdAt).toLocaleDateString(\"en-US\"),\n//           content: resData.post.content,\n//         });\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//       });\n//   }\n\n//   render() {\n//     return (\n//       <section className=\"single-post\">\n//         <h1>{this.state.title}</h1>\n//         <h2>\n//           Created by {this.state.author} on {this.state.date}\n//         </h2>\n//         <div className=\"single-post__image\">\n//           <Image contain imageUrl={this.state.image} />\n//         </div>\n//         <p>{this.state.content}</p>\n//       </section>\n//     );\n//   }\n// }\n\n// export default SinglePost;\n\nimport React, { Component } from \"react\";\n\nimport Image from \"../../../components/Image/Image\";\nimport \"./SinglePost.css\";\n\nclass SinglePost extends Component {\n  state = {\n    title: \"\",\n    author: \"\",\n    date: \"\",\n    image: \"\",\n    content: \"\",\n  };\n\n  componentDidMount() {\n    const postId = this.props.match.params.postId;\n    fetch(\n      `${process.env.REACT_APP_BACKEND_URL ||\n        \"http://localhost:8080\"}/feed/post/${postId}`,\n      {\n        headers: {\n          Authorization: \"Bearer \" + this.props.token,\n        },\n      },\n    )\n      .then((res) => {\n        if (res.status !== 200) {\n          throw new Error(\"Failed to fetch status\");\n        }\n        return res.json();\n      })\n      .then((resData) => {\n        this.setState({\n          title: resData.post.title,\n          author: resData.post.creator.name,\n          image: `${process.env.REACT_APP_BACKEND_URL ||\n            \"http://localhost:8080\"}/${resData.post.imageUrl}`,\n          date: new Date(resData.post.createdAt).toLocaleDateString(\"en-US\"),\n          content: resData.post.content,\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }\n\n  render() {\n    return (\n      <section className=\"single-post\">\n        <h1>{this.state.title}</h1>\n        <h2>\n          Created by {this.state.author} on {this.state.date}\n        </h2>\n        <div className=\"single-post__image\">\n          <Image contain imageUrl={this.state.image} />\n        </div>\n        <p>{this.state.content}</p>\n      </section>\n    );\n  }\n}\n\nexport default SinglePost;\n","import React from 'react';\n\nimport './Auth.css';\n\nconst auth = props => <section className=\"auth-form\">{props.children}</section>;\n\nexport default auth;\n","import React, { Component } from 'react';\n\nimport Input from '../../components/Form/Input/Input';\nimport Button from '../../components/Button/Button';\nimport { required, length, email } from '../../util/validators';\nimport Auth from './Auth';\n\nclass Login extends Component {\n  state = {\n    loginForm: {\n      email: {\n        value: '',\n        valid: false,\n        touched: false,\n        validators: [required, email]\n      },\n      password: {\n        value: '',\n        valid: false,\n        touched: false,\n        validators: [required, length({ min: 5 })]\n      },\n      formIsValid: false\n    }\n  };\n\n  inputChangeHandler = (input, value) => {\n    this.setState(prevState => {\n      let isValid = true;\n      for (const validator of prevState.loginForm[input].validators) {\n        isValid = isValid && validator(value);\n      }\n      const updatedForm = {\n        ...prevState.loginForm,\n        [input]: {\n          ...prevState.loginForm[input],\n          valid: isValid,\n          value: value\n        }\n      };\n      let formIsValid = true;\n      for (const inputName in updatedForm) {\n        formIsValid = formIsValid && updatedForm[inputName].valid;\n      }\n      return {\n        loginForm: updatedForm,\n        formIsValid: formIsValid\n      };\n    });\n  };\n\n  inputBlurHandler = input => {\n    this.setState(prevState => {\n      return {\n        loginForm: {\n          ...prevState.loginForm,\n          [input]: {\n            ...prevState.loginForm[input],\n            touched: true\n          }\n        }\n      };\n    });\n  };\n\n  render() {\n    return (\n      <Auth>\n        <form\n          onSubmit={e =>\n            this.props.onLogin(e, {\n              email: this.state.loginForm.email.value,\n              password: this.state.loginForm.password.value\n            })\n          }\n        >\n          <Input\n            id=\"email\"\n            label=\"Your E-Mail\"\n            type=\"email\"\n            control=\"input\"\n            onChange={this.inputChangeHandler}\n            onBlur={this.inputBlurHandler.bind(this, 'email')}\n            value={this.state.loginForm['email'].value}\n            valid={this.state.loginForm['email'].valid}\n            touched={this.state.loginForm['email'].touched}\n          />\n          <Input\n            id=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            control=\"input\"\n            onChange={this.inputChangeHandler}\n            onBlur={this.inputBlurHandler.bind(this, 'password')}\n            value={this.state.loginForm['password'].value}\n            valid={this.state.loginForm['password'].valid}\n            touched={this.state.loginForm['password'].touched}\n          />\n          <Button design=\"raised\" type=\"submit\" loading={this.props.loading}>\n            Login\n          </Button>\n        </form>\n      </Auth>\n    );\n  }\n}\n\nexport default Login;\n","import React, { Component } from 'react';\n\nimport Input from '../../components/Form/Input/Input';\nimport Button from '../../components/Button/Button';\nimport { required, length, email } from '../../util/validators';\nimport Auth from './Auth';\n\nclass Signup extends Component {\n  state = {\n    signupForm: {\n      email: {\n        value: '',\n        valid: false,\n        touched: false,\n        validators: [required, email]\n      },\n      password: {\n        value: '',\n        valid: false,\n        touched: false,\n        validators: [required, length({ min: 5 })]\n      },\n      name: {\n        value: '',\n        valid: false,\n        touched: false,\n        validators: [required]\n      },\n      formIsValid: false\n    }\n  };\n\n  inputChangeHandler = (input, value) => {\n    this.setState(prevState => {\n      let isValid = true;\n      for (const validator of prevState.signupForm[input].validators) {\n        isValid = isValid && validator(value);\n      }\n      const updatedForm = {\n        ...prevState.signupForm,\n        [input]: {\n          ...prevState.signupForm[input],\n          valid: isValid,\n          value: value\n        }\n      };\n      let formIsValid = true;\n      for (const inputName in updatedForm) {\n        formIsValid = formIsValid && updatedForm[inputName].valid;\n      }\n      return {\n        signupForm: updatedForm,\n        formIsValid: formIsValid\n      };\n    });\n  };\n\n  inputBlurHandler = input => {\n    this.setState(prevState => {\n      return {\n        signupForm: {\n          ...prevState.signupForm,\n          [input]: {\n            ...prevState.signupForm[input],\n            touched: true\n          }\n        }\n      };\n    });\n  };\n\n  render() {\n    return (\n      <Auth>\n        <form onSubmit={e => this.props.onSignup(e, this.state)}>\n          <Input\n            id=\"email\"\n            label=\"Your E-Mail\"\n            type=\"email\"\n            control=\"input\"\n            onChange={this.inputChangeHandler}\n            onBlur={this.inputBlurHandler.bind(this, 'email')}\n            value={this.state.signupForm['email'].value}\n            valid={this.state.signupForm['email'].valid}\n            touched={this.state.signupForm['email'].touched}\n          />\n          <Input\n            id=\"name\"\n            label=\"Your Name\"\n            type=\"text\"\n            control=\"input\"\n            onChange={this.inputChangeHandler}\n            onBlur={this.inputBlurHandler.bind(this, 'name')}\n            value={this.state.signupForm['name'].value}\n            valid={this.state.signupForm['name'].valid}\n            touched={this.state.signupForm['name'].touched}\n          />\n          <Input\n            id=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            control=\"input\"\n            onChange={this.inputChangeHandler}\n            onBlur={this.inputBlurHandler.bind(this, 'password')}\n            value={this.state.signupForm['password'].value}\n            valid={this.state.signupForm['password'].valid}\n            touched={this.state.signupForm['password'].touched}\n          />\n          <Button design=\"raised\" type=\"submit\" loading={this.props.loading}>\n            Signup\n          </Button>\n        </form>\n      </Auth>\n    );\n  }\n}\n\nexport default Signup;\n","// import React, { Component, Fragment } from \"react\";\n// import { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\n\n// import Layout from \"./components/Layout/Layout\";\n// import Backdrop from \"./components/Backdrop/Backdrop\";\n// import Toolbar from \"./components/Toolbar/Toolbar\";\n// import MainNavigation from \"./components/Navigation/MainNavigation/MainNavigation\";\n// import MobileNavigation from \"./components/Navigation/MobileNavigation/MobileNavigation\";\n// import ErrorHandler from \"./components/ErrorHandler/ErrorHandler\";\n// import FeedPage from \"./pages/Feed/Feed\";\n// import SinglePostPage from \"./pages/Feed/SinglePost/SinglePost\";\n// import LoginPage from \"./pages/Auth/Login\";\n// import SignupPage from \"./pages/Auth/Signup\";\n// import \"./App.css\";\n\n// class App extends Component {\n//   state = {\n//     showBackdrop: false,\n//     showMobileNav: false,\n//     isAuth: false,\n//     token: null,\n//     userId: null,\n//     authLoading: false,\n//     error: null,\n//   };\n\n//   componentDidMount() {\n//     const token = localStorage.getItem(\"token\");\n//     const expiryDate = localStorage.getItem(\"expiryDate\");\n//     if (!token || !expiryDate) {\n//       return;\n//     }\n//     if (new Date(expiryDate) <= new Date()) {\n//       this.logoutHandler();\n//       return;\n//     }\n//     const userId = localStorage.getItem(\"userId\");\n//     const remainingMilliseconds =\n//       new Date(expiryDate).getTime() - new Date().getTime();\n//     this.setState({ isAuth: true, token: token, userId: userId });\n//     this.setAutoLogout(remainingMilliseconds);\n//   }\n\n//   mobileNavHandler = (isOpen) => {\n//     this.setState({ showMobileNav: isOpen, showBackdrop: isOpen });\n//   };\n\n//   backdropClickHandler = () => {\n//     this.setState({ showBackdrop: false, showMobileNav: false, error: null });\n//   };\n\n//   logoutHandler = () => {\n//     this.setState({ isAuth: false, token: null });\n//     localStorage.removeItem(\"token\");\n//     localStorage.removeItem(\"expiryDate\");\n//     localStorage.removeItem(\"userId\");\n//   };\n\n//   loginHandler = (event, authData) => {\n//     event.preventDefault();\n//     this.setState({ authLoading: true });\n//     fetch(\n//       `${process.env.REACT_APP_BACKEND_URL}/auth/login` ||\n//         \"http://localhost:8080/auth/login\",\n//       {\n//         method: \"POST\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify({\n//           email: authData.email,\n\n//           password: authData.password,\n//         }),\n//       },\n//     )\n//       .then((res) => {\n//         if (res.status === 422) {\n//           throw new Error(\"Validation failed.\");\n//         }\n//         if (res.status !== 200 && res.status !== 201) {\n//           console.log(\"Error!\");\n//           throw new Error(\"Could not authenticate you!\");\n//         }\n//         return res.json();\n//       })\n//       .then((resData) => {\n//         console.log(resData);\n//         this.setState({\n//           isAuth: true,\n//           token: resData.token,\n//           authLoading: false,\n//           userId: resData.userId,\n//         });\n//         localStorage.setItem(\"token\", resData.token);\n//         localStorage.setItem(\"userId\", resData.userId);\n//         const remainingMilliseconds = 60 * 60 * 1000;\n//         const expiryDate = new Date(\n//           new Date().getTime() + remainingMilliseconds,\n//         );\n//         localStorage.setItem(\"expiryDate\", expiryDate.toISOString());\n//         this.setAutoLogout(remainingMilliseconds);\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//         this.setState({\n//           isAuth: false,\n//           authLoading: false,\n//           error: err,\n//         });\n//       });\n//   };\n\n//   signupHandler = (event, authData) => {\n//     event.preventDefault();\n//     this.setState({ authLoading: true });\n//     fetch(\n//       `${process.env.REACT_APP_BACKEND_URL}/auth/signup` ||\n//         \"http://localhost:8080/auth/signup\",\n//       {\n//         method: \"PUT\",\n//         headers: {\n//           \"Content-Type\": \"application/json\",\n//         },\n//         body: JSON.stringify({\n//           email: authData.signupForm.email.value,\n//           name: authData.signupForm.name.value,\n//           password: authData.signupForm.password.value,\n//         }),\n//       },\n//     )\n//       .then((res) => {\n//         if (res.status === 422) {\n//           throw new Error(\n//             \"Validation failed. Make sure the email address isn't used yet!\",\n//           );\n//         }\n//         if (res.status !== 200 && res.status !== 201) {\n//           console.log(\"Error!\");\n//           throw new Error(\"Creating a user failed!\");\n//         }\n//         return res.json();\n//       })\n//       .then((resData) => {\n//         console.log(resData);\n//         this.setState({ isAuth: false, authLoading: false });\n//         this.props.history.replace(\"/\");\n//       })\n//       .catch((err) => {\n//         console.log(err);\n//         this.setState({\n//           isAuth: false,\n//           authLoading: false,\n//           error: err,\n//         });\n//       });\n//   };\n\n//   setAutoLogout = (milliseconds) => {\n//     setTimeout(() => {\n//       this.logoutHandler();\n//     }, milliseconds);\n//   };\n\n//   errorHandler = () => {\n//     this.setState({ error: null });\n//   };\n\n//   render() {\n//     let routes = (\n//       <Switch>\n//         <Route\n//           path=\"/\"\n//           exact\n//           render={(props) => (\n//             <LoginPage\n//               {...props}\n//               onLogin={this.loginHandler}\n//               loading={this.state.authLoading}\n//             />\n//           )}\n//         />\n//         <Route\n//           path=\"/signup\"\n//           exact\n//           render={(props) => (\n//             <SignupPage\n//               {...props}\n//               onSignup={this.signupHandler}\n//               loading={this.state.authLoading}\n//             />\n//           )}\n//         />\n//         <Redirect to=\"/\" />\n//       </Switch>\n//     );\n//     if (this.state.isAuth) {\n//       routes = (\n//         <Switch>\n//           <Route\n//             path=\"/\"\n//             exact\n//             render={(props) => (\n//               <FeedPage userId={this.state.userId} token={this.state.token} />\n//             )}\n//           />\n//           <Route\n//             path=\"/:postId\"\n//             render={(props) => (\n//               <SinglePostPage\n//                 {...props}\n//                 userId={this.state.userId}\n//                 token={this.state.token}\n//               />\n//             )}\n//           />\n//           <Redirect to=\"/\" />\n//         </Switch>\n//       );\n//     }\n//     return (\n//       <Fragment>\n//         {this.state.showBackdrop && (\n//           <Backdrop onClick={this.backdropClickHandler} />\n//         )}\n//         <ErrorHandler error={this.state.error} onHandle={this.errorHandler} />\n//         <Layout\n//           header={\n//             <Toolbar>\n//               <MainNavigation\n//                 onOpenMobileNav={this.mobileNavHandler.bind(this, true)}\n//                 onLogout={this.logoutHandler}\n//                 isAuth={this.state.isAuth}\n//               />\n//             </Toolbar>\n//           }\n//           mobileNav={\n//             <MobileNavigation\n//               open={this.state.showMobileNav}\n//               mobile\n//               onChooseItem={this.mobileNavHandler.bind(this, false)}\n//               onLogout={this.logoutHandler}\n//               isAuth={this.state.isAuth}\n//             />\n//           }\n//         />\n//         {routes}\n//       </Fragment>\n//     );\n//   }\n// }\n\n// export default withRouter(App);\n\nimport React, { Component, Fragment } from \"react\";\nimport { Route, Switch, Redirect, withRouter } from \"react-router-dom\";\n\nimport Layout from \"./components/Layout/Layout\";\nimport Backdrop from \"./components/Backdrop/Backdrop\";\nimport Toolbar from \"./components/Toolbar/Toolbar\";\nimport MainNavigation from \"./components/Navigation/MainNavigation/MainNavigation\";\nimport MobileNavigation from \"./components/Navigation/MobileNavigation/MobileNavigation\";\nimport ErrorHandler from \"./components/ErrorHandler/ErrorHandler\";\nimport FeedPage from \"./pages/Feed/Feed\";\nimport SinglePostPage from \"./pages/Feed/SinglePost/SinglePost\";\nimport LoginPage from \"./pages/Auth/Login\";\nimport SignupPage from \"./pages/Auth/Signup\";\nimport \"./App.css\";\n\nclass App extends Component {\n  state = {\n    showBackdrop: false,\n    showMobileNav: false,\n    isAuth: false,\n    token: null,\n    userId: null,\n    authLoading: false,\n    error: null,\n  };\n\n  componentDidMount() {\n    const token = localStorage.getItem(\"token\");\n    const expiryDate = localStorage.getItem(\"expiryDate\");\n    if (!token || !expiryDate) {\n      return;\n    }\n    if (new Date(expiryDate) <= new Date()) {\n      this.logoutHandler();\n      return;\n    }\n    const userId = localStorage.getItem(\"userId\");\n    const remainingMilliseconds =\n      new Date(expiryDate).getTime() - new Date().getTime();\n    this.setState({ isAuth: true, token: token, userId: userId });\n    this.setAutoLogout(remainingMilliseconds);\n  }\n\n  mobileNavHandler = (isOpen) => {\n    this.setState({ showMobileNav: isOpen, showBackdrop: isOpen });\n  };\n\n  backdropClickHandler = () => {\n    this.setState({ showBackdrop: false, showMobileNav: false, error: null });\n  };\n\n  logoutHandler = () => {\n    this.setState({ isAuth: false, token: null });\n    localStorage.removeItem(\"token\");\n    localStorage.removeItem(\"expiryDate\");\n    localStorage.removeItem(\"userId\");\n  };\n\n  loginHandler = (event, authData) => {\n    event.preventDefault();\n    this.setState({ authLoading: true });\n    fetch(\n      `${process.env.REACT_APP_BACKEND_URL ||\n        \"http://localhost:8080\"}/auth/login`,\n      {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          email: authData.email,\n\n          password: authData.password,\n        }),\n      },\n    )\n      .then((res) => {\n        if (res.status === 422) {\n          throw new Error(\"Validation failed.\");\n        }\n        if (res.status !== 200 && res.status !== 201) {\n          console.log(\"Error!\");\n          throw new Error(\"Could not authenticate you!\");\n        }\n        return res.json();\n      })\n      .then((resData) => {\n        console.log(resData);\n        this.setState({\n          isAuth: true,\n          token: resData.token,\n          authLoading: false,\n          userId: resData.userId,\n        });\n        localStorage.setItem(\"token\", resData.token);\n        localStorage.setItem(\"userId\", resData.userId);\n        const remainingMilliseconds = 60 * 60 * 1000;\n        const expiryDate = new Date(\n          new Date().getTime() + remainingMilliseconds,\n        );\n        localStorage.setItem(\"expiryDate\", expiryDate.toISOString());\n        this.setAutoLogout(remainingMilliseconds);\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({\n          isAuth: false,\n          authLoading: false,\n          error: err,\n        });\n      });\n  };\n\n  signupHandler = (event, authData) => {\n    event.preventDefault();\n    this.setState({ authLoading: true });\n    fetch(\n      `${process.env.REACT_APP_BACKEND_URL ||\n        \"http://localhost:8080\"}/auth/signup`,\n      {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          email: authData.signupForm.email.value,\n          name: authData.signupForm.name.value,\n          password: authData.signupForm.password.value,\n        }),\n      },\n    )\n      .then((res) => {\n        if (res.status === 422) {\n          throw new Error(\n            \"Validation failed. Make sure the email address isn't used yet!\",\n          );\n        }\n        if (res.status !== 200 && res.status !== 201) {\n          console.log(\"Error!\");\n          throw new Error(\"Creating a user failed!\");\n        }\n        return res.json();\n      })\n      .then((resData) => {\n        console.log(resData);\n        this.setState({ isAuth: false, authLoading: false });\n        this.props.history.replace(\"/\");\n      })\n      .catch((err) => {\n        console.log(err);\n        this.setState({\n          isAuth: false,\n          authLoading: false,\n          error: err,\n        });\n      });\n  };\n\n  setAutoLogout = (milliseconds) => {\n    setTimeout(() => {\n      this.logoutHandler();\n    }, milliseconds);\n  };\n\n  errorHandler = () => {\n    this.setState({ error: null });\n  };\n\n  render() {\n    let routes = (\n      <Switch>\n        <Route\n          path=\"/\"\n          exact\n          render={(props) => (\n            <LoginPage\n              {...props}\n              onLogin={this.loginHandler}\n              loading={this.state.authLoading}\n            />\n          )}\n        />\n        <Route\n          path=\"/signup\"\n          exact\n          render={(props) => (\n            <SignupPage\n              {...props}\n              onSignup={this.signupHandler}\n              loading={this.state.authLoading}\n            />\n          )}\n        />\n        <Redirect to=\"/\" />\n      </Switch>\n    );\n    if (this.state.isAuth) {\n      routes = (\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            render={(props) => (\n              <FeedPage userId={this.state.userId} token={this.state.token} />\n            )}\n          />\n          <Route\n            path=\"/:postId\"\n            render={(props) => (\n              <SinglePostPage\n                {...props}\n                userId={this.state.userId}\n                token={this.state.token}\n              />\n            )}\n          />\n          <Redirect to=\"/\" />\n        </Switch>\n      );\n    }\n    return (\n      <Fragment>\n        {this.state.showBackdrop && (\n          <Backdrop onClick={this.backdropClickHandler} />\n        )}\n        <ErrorHandler error={this.state.error} onHandle={this.errorHandler} />\n        <Layout\n          header={\n            <Toolbar>\n              <MainNavigation\n                onOpenMobileNav={this.mobileNavHandler.bind(this, true)}\n                onLogout={this.logoutHandler}\n                isAuth={this.state.isAuth}\n              />\n            </Toolbar>\n          }\n          mobileNav={\n            <MobileNavigation\n              open={this.state.showMobileNav}\n              mobile\n              onChooseItem={this.mobileNavHandler.bind(this, false)}\n              onLogout={this.logoutHandler}\n              isAuth={this.state.isAuth}\n            />\n          }\n        />\n        {routes}\n      </Fragment>\n    );\n  }\n}\n\nexport default withRouter(App);\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById(\"root\"),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\n"],"sourceRoot":""}